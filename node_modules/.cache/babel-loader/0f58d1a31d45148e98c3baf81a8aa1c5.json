{"ast":null,"code":"import _classCallCheck from \"/Users/IDogueto/Desktop/Repositories/emdashboarddeployed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/IDogueto/Desktop/Repositories/emdashboarddeployed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/IDogueto/Desktop/Repositories/emdashboarddeployed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/IDogueto/Desktop/Repositories/emdashboarddeployed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/IDogueto/Desktop/Repositories/emdashboarddeployed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/IDogueto/Desktop/Repositories/emdashboarddeployed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/IDogueto/Desktop/Repositories/emdashboarddeployed/src/dashboard/table.js\";\nimport React from 'react';\nimport ReactTable from \"react-table\";\nimport 'react-table/react-table.css';\nimport lang from '../utils/language';\nimport { getTableData, deleteTableData, getStepsListData, getEventFullData, getStepFullData, postDeleteStepAPICALL, postDeleteUserAPICALL, getUserFullData } from '../utils/requests';\nimport { getLinkOptions } from '../utils/masks';\nimport { withRouter } from 'react-router'; // import columns from \"./columns\";\n\nvar COMMONLOCATIONS = ['Other', 'Main Gate', 'Enrollment Services', 'Admissions', 'The Center for Learning Excellence', 'Cafeteria', 'New Rest', 'Big Toms', 'Conference Center (Old Game Room)', 'Shop', 'Auditorium Building 4', 'Auditorium Building 7', 'Lab 7', 'Lab 11', 'Lab 8', 'Lab 8b', 'SSE Dean\\'s Office', 'SBA Dean\\'s Office', 'SHSS Dean\\'s Office', 'Roman Theater', 'The Globe', 'Health Center', 'Building 17', 'President\\'s Office'];\n\nvar Table =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Table, _React$Component);\n\n  function Table(props) {\n    var _this;\n\n    _classCallCheck(this, Table);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Table).call(this, props));\n    _this.state = {\n      language: 'eng',\n      object: _this.props.object,\n      attribute: _this.props.attribute,\n      columns: _this.props.columns,\n      columnsSteps: _this.props.columnsSteps,\n      show: true,\n      data: [],\n      shownData: [],\n      stepData: [],\n      manuals: []\n    };\n    _this.getAndDisplayStepListData = _this.getAndDisplayStepListData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Table, [{\n    key: \"getData\",\n    value: function getData() {\n      var _this2 = this;\n\n      console.log(\"Getting data..\");\n      var data = [];\n      return getTableData(this.state.object).then(function (res) {\n        console.log(\"Result getTableData:\");\n        console.log(res);\n        data = res.data.data;\n\n        if (_this2.state.data.length === 0) {\n          _this2.setState({\n            data: data\n          });\n        }\n      }).then(function () {\n        console.log(\"Returned Data: \");\n        console.log(_this2.state.data);\n        var shownData = JSON.parse(JSON.stringify(_this2.state.data));\n\n        var isStep = _this2.isStep(shownData);\n\n        for (var i = 0; i < shownData.length; i++) {\n          shownData[i].date = _this2.timeConverter(shownData[i].date); //First we convert to timestamp then use the timeconverter function\n\n          shownData[i].startDate = _this2.timeConverter(Date.parse(shownData[i].startDate));\n          shownData[i].endDate = _this2.timeConverter(Date.parse(shownData[i].endDate));\n\n          if (isStep) {\n            if (shownData[i].commonLocation >= 0) shownData[i].commonLocation = COMMONLOCATIONS[shownData[i].commonLocation];\n\n            if (!shownData[i].isMapped) {\n              shownData[i].latitude = \"-\";\n              shownData[i].longitude = \"-\";\n              shownData[i].commonLocation = \"-\";\n            }\n          }\n        }\n\n        _this2.setState({\n          shownData: shownData\n        });\n\n        return _this2.getManuals();\n      }).then(function (manuals) {\n        return _this2.fillData();\n      });\n    }\n  }, {\n    key: \"getStepsData\",\n    value: function getStepsData(eventHashedID) {\n      var _this3 = this;\n\n      console.log(\"Getting steps data..\");\n      var data = [];\n      return getStepsListData(\"GET_EVENT_STEPS_LIST\", eventHashedID).then(function (res) {\n        console.log(\"Result getStepsListData:\");\n        data = res.data.data;\n        console.log(\"Data: \");\n        console.log(data);\n\n        for (var i = 0; i < data.length; i++) {\n          data[i].createdAt = _this3.timeConverter(data[i].createdAt);\n          data[i].isMapped = _this3.booleanConverterYesNo(data[i].isMapped);\n        }\n\n        if (_this3.state.data.length === 0) {\n          _this3.setState({\n            data: data\n          });\n        }\n      }).then(function () {\n        console.log(\"Returned Data: \");\n        console.log(_this3.state.data);\n        var shownData = JSON.parse(JSON.stringify(_this3.state.data));\n\n        var isStep = _this3.isStep(shownData);\n\n        for (var i = 0; i < shownData.length; i++) {\n          shownData[i].date = _this3.timeConverter(shownData[i].date);\n\n          if (isStep) {\n            if (shownData[i].commonLocation >= 0) shownData[i].commonLocation = COMMONLOCATIONS[shownData[i].commonLocation];\n\n            if (!shownData[i].isMapped) {\n              shownData[i].latitude = \"-\";\n              shownData[i].longitude = \"-\";\n              shownData[i].commonLocation = \"-\";\n            }\n          }\n        }\n\n        _this3.setState({\n          shownData: shownData\n        });\n\n        return _this3.getManuals();\n      }).then(function (manuals) {\n        return _this3.fillData();\n      }).then(function () {\n        console.log(\"Show Data:\");\n        console.log(_this3.state.data);\n      });\n    }\n  }, {\n    key: \"getManuals\",\n    value: function getManuals() {\n      var _this4 = this;\n\n      var toChange = [];\n      var columns = this.state.columns;\n\n      for (var idx in columns) {\n        var column = columns[idx];\n\n        if (column.type === \"link\") {\n          toChange.push(column);\n        }\n      }\n\n      var manuals = [];\n      var manualsAdded = 0;\n\n      for (var idx1 in toChange) {\n        var change = toChange[idx1];\n        return getLinkOptions(change).then(function (res) {\n          manuals.push(res);\n          manualsAdded++;\n        }).then(function () {\n          if (manualsAdded === toChange.length) {\n            _this4.setState({\n              manuals: manuals\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"fillData\",\n    value: function fillData() {\n      var data = JSON.parse(JSON.stringify(this.state.data));\n      var shownData = JSON.parse(JSON.stringify(data));\n      var manuals = this.state.manuals;\n\n      for (var idx in manuals) {\n        var manual = manuals[idx];\n\n        for (var idx1 in manual) {\n          var entry = manual[idx1];\n\n          for (var idx2 in data) {\n            if (data[idx2][entry.name] === entry.value) {\n              var name = entry.name;\n              var label = entry.label;\n              shownData[idx2][name] = label;\n              this.setState({\n                shownData: shownData\n              });\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"fillStepListData\",\n    value: function fillStepListData() {\n      var data = JSON.parse(JSON.stringify(this.state.data));\n      var shownData = JSON.parse(JSON.stringify(data));\n      var manuals = this.state.manuals;\n\n      for (var idx in manuals) {\n        var manual = manuals[idx];\n\n        for (var idx1 in manual) {\n          var entry = manual[idx1];\n\n          for (var idx2 in data) {\n            if (data[idx2][entry.name] === entry.value) {\n              var name = entry.name;\n              var label = entry.label;\n              shownData[idx2][name] = label;\n              this.setState({\n                shownData: shownData\n              });\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"deleteRow\",\n    value: function deleteRow(value) {\n      var data = {};\n      var body = {};\n      data['object'] = this.state.object;\n      data['attribute'] = this.state.attribute;\n      data['value'] = value;\n      body['data'] = data;\n      deleteTableData(body).then(function (res) {\n        window.location.reload();\n      }).catch(function (err) {\n        console.error(err);\n      });\n    }\n  }, {\n    key: \"valuesFromOriginal\",\n    value: function valuesFromOriginal(original) {\n      var data = JSON.parse(JSON.stringify(this.state.data));\n      var found = original;\n      var id = original._id;\n\n      for (var idx in data) {\n        var datum = data[idx];\n\n        if (datum._id === id) {\n          found = datum;\n        }\n      }\n\n      return found;\n    }\n  }, {\n    key: \"booleanConverterYesNo\",\n    value: function booleanConverterYesNo(value) {\n      return value ? \"Yes\" : \"No\";\n    }\n  }, {\n    key: \"timeConverter\",\n    value: function timeConverter(UNIX_timestamp) {\n      var a = new Date(UNIX_timestamp * 1000);\n      var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n      var year = a.getFullYear();\n      var month = months[a.getMonth()];\n      var date = a.getDate();\n      var hour = a.getHours();\n      var min = a.getMinutes();\n      var sec = a.getSeconds();\n      var time = date + ' ' + month + ' ' + year + ' ' + hour + ':' + min + ':' + sec;\n      return time;\n    }\n  }, {\n    key: \"isStep\",\n    value: function isStep(shownData) {\n      if (shownData[0] && shownData[0].stepTitle) return true;\n      return false;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.view) {\n        this.setState({\n          show: false\n        });\n      }\n\n      var thing = [];\n      console.log(this.props.object);\n      if (this.props.object === \"GET_STEPS_DATA\") this.getStepsData(this.props.location.state.eventID);else if (this.props.object === \"GET_EVENTS_DATA\") this.getData();else if (this.props.object === \"GET_USERS_DATA\") this.getData();else if (this.props.object === \"GET_ADMINS_DATA\") this.getData();\n    }\n  }, {\n    key: \"getAndDisplayStepListData\",\n    value: function getAndDisplayStepListData(eventHashedID) {\n      var _this5 = this;\n\n      console.log(\"Event hashedID: \" + eventHashedID);\n      this.getStepsData(eventHashedID).then(function () {\n        var shownData = JSON.parse(JSON.stringify(_this5.state.stepData));\n\n        var isStep = _this5.isStep(shownData);\n\n        console.log(\"check here\");\n        console.log(shownData[0].createdAt);\n\n        for (var i = 0; i < shownData.length; i++) {\n          shownData[i].createdAt = _this5.timeConverter(shownData[i].createdAt);\n\n          if (isStep) {\n            if (shownData[i].commonLocation >= 0) shownData[i].commonLocation = COMMONLOCATIONS[shownData[i].commonLocation];\n\n            if (!shownData[i].isMapped) {\n              shownData[i].latitude = \"-\";\n              shownData[i].longitude = \"-\";\n              shownData[i].commonLocation = \"-\";\n            }\n          }\n        }\n\n        _this5.setState({\n          stepData: shownData\n        });\n\n        return _this5.getManuals();\n      }).then(function (manuals) {\n        return _this5.fillStepListData();\n      });\n    }\n  }, {\n    key: \"deleteStep\",\n    value: function deleteStep(hashedIDEvent, hashedIDStep) {\n      return postDeleteStepAPICALL(hashedIDEvent, hashedIDStep).then(function (isDelete) {\n        return isDelete;\n      });\n    }\n  }, {\n    key: \"deleteUser\",\n    value: function deleteUser(auiID) {\n      return postDeleteUserAPICALL(auiID).then(function (isDelete) {\n        return isDelete;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var more = function more(original) {\n        return null;\n      };\n\n      if (this.props.more) {\n        more = function more(original) {\n          var row = _this6.valuesFromOriginal(original);\n\n          return React.createElement(\"button\", {\n            className: \"btn btn-success\",\n            onClick: function onClick() {\n              _this6.props.history.push(\"offering/\".concat(row._id, \"/\").concat(row.service, \"/\").concat(original.service, \"/\").concat(row.classroom));\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 334\n            },\n            __self: this\n          }, \"More\");\n        };\n      }\n\n      var columns = this.props.columns;\n      columns = this.props.columns.concat([{\n        Header: 'Action',\n        Cell: function Cell(props) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 350\n            },\n            __self: this\n          }, more(props.original), React.createElement(\"button\", {\n            style: {\n              flex: 1\n            },\n            className: \"btn btn-primary\",\n            onClick: function onClick() {\n              if (_this6.props.object === \"GET_EVENTS_DATA\") {\n                return getEventFullData(props.original.hashedIDEvent).then(function (data) {\n                  console.log(data); // schema.properties.adminAUIID.default = \"dfgh\";\n                  // schema.eventTitle = data.data.data.eventTitle;\n\n                  console.log(\"HNA\");\n                  console.log(data);\n                  var dataJSON = JSON.parse(JSON.stringify(data));\n                  dataJSON.data.data.createdAtConverted = _this6.timeConverter(Date.parse(dataJSON.data.data.createdAt));\n                  dataJSON.data.data.updatedAtConverted = _this6.timeConverter(Date.parse(dataJSON.data.data.updatedAt));\n                  dataJSON.data.data.startDateConverted = _this6.timeConverter(Date.parse(dataJSON.data.data.startDate));\n                  dataJSON.data.data.endDateConverted = _this6.timeConverter(Date.parse(dataJSON.data.data.endDate));\n\n                  _this6.props.history.push('/admin/update-event', {\n                    data: dataJSON\n                  });\n                });\n              } else if (_this6.props.object === \"GET_STEPS_DATA\") {\n                console.log(\"HASHEDIDEVENT:\");\n                console.log(props); //props.original.hashedIDStep\n\n                return getStepFullData(props.original.eventID, props.original.hashedIDStep).then(function (data) {\n                  console.log(data); // schema.properties.adminAUIID.default = \"dfgh\";\n                  // schema.eventTitle = data.data.data.eventTitle;\n\n                  console.log(\"HNA\");\n                  console.log(data);\n                  var dataJSON = JSON.parse(JSON.stringify(data));\n                  dataJSON.data.data.createdAtConverted = _this6.timeConverter(Date.parse(dataJSON.data.data.createdAt));\n                  dataJSON.data.data.updatedAtConverted = _this6.timeConverter(Date.parse(dataJSON.data.data.updatedAt));\n\n                  _this6.props.history.push('/admin/update-step', {\n                    data: dataJSON\n                  });\n                });\n              } else if (_this6.props.object === \"GET_USERS_DATA\") {\n                console.log(\"HASHEDIDUSER:\");\n                console.log(props.original.hashedID); //props.original.hashedIDStep\n\n                return getUserFullData(props.original.hashedID).then(function (data) {\n                  console.log(data); // schema.properties.adminAUIID.default = \"dfgh\";\n                  // schema.eventTitle = data.data.data.eventTitle;\n\n                  console.log(\"HNA\");\n                  console.log(data);\n                  var dataJSON = JSON.parse(JSON.stringify(data));\n                  dataJSON.data.data.createdAtConverted = _this6.timeConverter(Date.parse(dataJSON.data.data.createdAt));\n                  dataJSON.data.data.updatedAtConverted = _this6.timeConverter(Date.parse(dataJSON.data.data.updatedAt));\n                  dataJSON.data.data.gender === 1 ? dataJSON.data.data.genderConverted = \"Male\" : dataJSON.data.data.genderConverted = \"Female\";\n\n                  _this6.props.history.push('/admin/update-user', {\n                    data: dataJSON\n                  });\n                });\n              }\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 360\n            },\n            __self: this\n          }, \" Update\"), _this6.props.object === \"GET_EVENTS_DATA\" ? React.createElement(\"button\", {\n            style: {\n              flex: 1\n            },\n            className: \"btn btn-success\",\n            onClick: function onClick() {\n              // this.props.history.push('/admin/steps',{data:this.getAndDisplayStepListData(props.original.hashedIDEvent)});\n              _this6.props.history.push('/admin/steps', {\n                eventID: props.original.hashedIDEvent\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 431\n            },\n            __self: this\n          }, \" View Steps\") : console.log(\"View Step Button Not Displayed\"), _this6.props.object === \"GET_STEPS_DATA\" || _this6.props.object === \"GET_USERS_DATA\" || _this6.props.object === \"GET_ADMINS_DATA\" ? React.createElement(\"button\", {\n            style: {\n              flex: 1\n            },\n            className: \"btn btn-danger\",\n            onClick: function onClick() {\n              var answer;\n\n              switch (_this6.props.object) {\n                case \"GET_USERS_DATA\":\n                case \"GET_ADMINS_DATA\":\n                  console.log(props.original.auiID);\n                  answer = window.prompt(\"Are you sure want to delete this User? Please enter the ID of the user:\");\n\n                  if (answer === props.original.auiID) {\n                    // console.log(this.props.history.location.state.eventID,props.original.hashedIDStep);\n                    return _this6.deleteUser(props.original.hashedID).then(function (isDeleted) {\n                      if (isDeleted) {\n                        alert(\"User deleted successfully\");\n                      }\n                    });\n                  } else {\n                    alert(\"The IDs don't match. Aborting...\");\n                  }\n\n                  console.log(answer);\n                  break;\n\n                case \"GET_STEPS_DATA\":\n                  console.log(props.original.stepTitle);\n                  answer = window.prompt(\"Are you sure want to delete this Step? Please enter the title of the step:\");\n\n                  if (answer === props.original.stepTitle) {\n                    // console.log(this.props.history.location.state.eventID,props.original.hashedIDStep);\n                    return _this6.deleteStep(_this6.props.history.location.state.eventID, props.original.hashedIDStep).then(function (isDeleted) {\n                      if (isDeleted) {\n                        alert(\"Step deleted successfully\");\n                      }\n                    });\n                  } else {\n                    alert(\"The titles don't match. Aborting...\");\n                  }\n\n                  console.log(answer);\n                  break;\n\n                default:\n                  console.log(\"Unrecognized type\");\n              }\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 439\n            },\n            __self: this\n          }, \" Delete\") : console.log(\"Delete Step Button Not Displayed\"));\n        },\n        show: this.state.show,\n        filterable: false,\n        width: 280\n      }]);\n      var object = this.state.object;\n      var language = this.state.language;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498\n        },\n        __self: this\n      }, lang.objects[object][language], \" Table\"), React.createElement(\"button\", {\n        className: \"btn btn-outline-success\",\n        onClick: function onClick() {\n          _this6.props.history.push('add-event');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 499\n        },\n        __self: this\n      }, \" New \", lang.objects[object][language]), React.createElement(ReactTable, {\n        data: this.state.shownData,\n        columns: columns,\n        filterable: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 504\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Table;\n}(React.Component);\n\nexport default withRouter(Table);","map":{"version":3,"sources":["/Users/IDogueto/Desktop/Repositories/emdashboarddeployed/src/dashboard/table.js"],"names":["React","ReactTable","lang","getTableData","deleteTableData","getStepsListData","getEventFullData","getStepFullData","postDeleteStepAPICALL","postDeleteUserAPICALL","getUserFullData","getLinkOptions","withRouter","COMMONLOCATIONS","Table","props","state","language","object","attribute","columns","columnsSteps","show","data","shownData","stepData","manuals","getAndDisplayStepListData","bind","console","log","then","res","length","setState","JSON","parse","stringify","isStep","i","date","timeConverter","startDate","Date","endDate","commonLocation","isMapped","latitude","longitude","getManuals","fillData","eventHashedID","createdAt","booleanConverterYesNo","toChange","idx","column","type","push","manualsAdded","idx1","change","manual","entry","idx2","name","value","label","body","window","location","reload","catch","err","error","original","found","id","_id","datum","UNIX_timestamp","a","months","year","getFullYear","month","getMonth","getDate","hour","getHours","min","getMinutes","sec","getSeconds","time","stepTitle","view","thing","getStepsData","eventID","getData","fillStepListData","hashedIDEvent","hashedIDStep","isDelete","auiID","more","row","valuesFromOriginal","history","service","classroom","concat","Header","Cell","flex","dataJSON","createdAtConverted","updatedAtConverted","updatedAt","startDateConverted","endDateConverted","hashedID","gender","genderConverted","answer","prompt","deleteUser","isDeleted","alert","deleteStep","filterable","width","objects","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactTable from \"react-table\";\nimport 'react-table/react-table.css';\nimport lang from '../utils/language';\nimport {\n    getTableData,\n    deleteTableData,\n    getStepsListData,\n    getEventFullData,\n    getStepFullData,\n    postDeleteStepAPICALL,\n    postDeleteUserAPICALL,\n    getUserFullData\n} from '../utils/requests';\nimport {getLinkOptions} from '../utils/masks';\nimport {withRouter} from 'react-router'\n// import columns from \"./columns\";\n\n\n\n\nconst COMMONLOCATIONS = ['Other','Main Gate','Enrollment Services','Admissions','The Center for Learning Excellence','Cafeteria','New Rest','Big Toms','Conference Center (Old Game Room)','Shop','Auditorium Building 4','Auditorium Building 7','Lab 7','Lab 11','Lab 8','Lab 8b','SSE Dean\\'s Office','SBA Dean\\'s Office','SHSS Dean\\'s Office','Roman Theater','The Globe','Health Center','Building 17', 'President\\'s Office',];\n\nclass Table extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      language: 'eng',\n      object: this.props.object,\n      attribute: this.props.attribute,\n      columns: this.props.columns,\n      columnsSteps: this.props.columnsSteps,\n      show: true,\n      data:[],\n      shownData: [],\n      stepData: [],\n      manuals: []\n    };\n\n    this.getAndDisplayStepListData = this.getAndDisplayStepListData.bind(this);\n  }\n\n  getData() {\n    console.log(\"Getting data..\");\n    var data = [];\n\n    return getTableData(this.state.object)\n        .then((res) => {\n          console.log(\"Result getTableData:\");\n          console.log(res);\n          data = res.data.data;\n          if (this.state.data.length===0){\n            this.setState({\n              data: data\n            })\n          }\n\n        })\n        .then(() => {\n          console.log(\"Returned Data: \");\n          console.log(this.state.data);\n          var shownData = JSON.parse(JSON.stringify(this.state.data));\n          let isStep = this.isStep(shownData);\n\n          for(let i=0; i < shownData.length; i++){\n              shownData[i].date = this.timeConverter(shownData[i].date);\n              //First we convert to timestamp then use the timeconverter function\n              shownData[i].startDate = this.timeConverter(Date.parse(shownData[i].startDate));\n              shownData[i].endDate = this.timeConverter(Date.parse(shownData[i].endDate));\n\n              if(isStep){\n                  if (shownData[i].commonLocation >= 0)\n                    shownData[i].commonLocation = COMMONLOCATIONS[shownData[i].commonLocation];\n\n                  if(!shownData[i].isMapped){\n                    shownData[i].latitude = \"-\";\n                    shownData[i].longitude = \"-\";\n                    shownData[i].commonLocation = \"-\";\n                  }\n              }\n          }\n          this.setState({shownData});\n          return this.getManuals();\n        })\n        .then((manuals) => {\n          return this.fillData();\n        })\n  }\n\n  getStepsData(eventHashedID) {\n    console.log(\"Getting steps data..\");\n    var data = [];\n    return getStepsListData(\"GET_EVENT_STEPS_LIST\", eventHashedID)\n        .then((res) => {\n          console.log(\"Result getStepsListData:\");\n          data = res.data.data;\n\n          console.log(\"Data: \");\n          console.log(data);\n          for(let i=0; i < data.length; i++){\n              data[i].createdAt = this.timeConverter(data[i].createdAt);\n              data[i].isMapped = this.booleanConverterYesNo(data[i].isMapped);\n          }\n          if (this.state.data.length===0){\n            this.setState({\n              data: data\n            })\n          }\n\n        })\n        .then(() => {\n          console.log(\"Returned Data: \");\n          console.log(this.state.data);\n          var shownData = JSON.parse(JSON.stringify(this.state.data));\n          let isStep = this.isStep(shownData);\n\n          for(let i=0; i < shownData.length; i++){\n            shownData[i].date = this.timeConverter(shownData[i].date);\n            if(isStep){\n              if (shownData[i].commonLocation >= 0)\n                shownData[i].commonLocation = COMMONLOCATIONS[shownData[i].commonLocation];\n\n              if(!shownData[i].isMapped){\n                shownData[i].latitude = \"-\";\n                shownData[i].longitude = \"-\";\n                shownData[i].commonLocation = \"-\";\n              }\n            }\n\n          }\n\n          this.setState({shownData});\n          return this.getManuals();\n        })\n        .then((manuals) => {\n          return this.fillData();\n        })\n        .then(() => {\n          console.log(\"Show Data:\");\n          console.log(this.state.data)\n        })\n  }\n\n\n  getManuals(){\n    let toChange = []\n    let columns = this.state.columns;\n    for (let idx in columns){\n      let column = columns[idx];\n      if (column.type===\"link\"){\n        toChange.push(column);\n      }\n    }\n    let manuals = []\n    let manualsAdded=0;\n    for (let idx1 in toChange){\n      let change = toChange[idx1];\n      return getLinkOptions(change)\n      .then((res) => {\n        manuals.push(res);\n        manualsAdded++;\n      })\n      .then(() => {\n        if(manualsAdded===toChange.length){\n          this.setState({manuals: manuals});\n        }\n      })\n    }\n  }\n\n  fillData(){\n    var data = JSON.parse(JSON.stringify(this.state.data));\n    var shownData = JSON.parse(JSON.stringify(data));\n    let manuals = this.state.manuals;\n    for (let idx in manuals){\n      let manual = manuals[idx];\n      for (let idx1 in manual){\n        let entry = manual[idx1];\n        for (let idx2 in data){\n          if (data[idx2][entry.name]===entry.value){\n            let name = entry.name;\n            let label = entry.label;\n            shownData[idx2][name] = label;\n            this.setState({shownData})\n          }\n        }\n      }\n    }\n  }\n\n  fillStepListData(){\n    var data = JSON.parse(JSON.stringify(this.state.data));\n    var shownData = JSON.parse(JSON.stringify(data));\n    let manuals = this.state.manuals;\n    for (let idx in manuals){\n      let manual = manuals[idx];\n      for (let idx1 in manual){\n        let entry = manual[idx1];\n        for (let idx2 in data){\n          if (data[idx2][entry.name]===entry.value){\n            let name = entry.name;\n            let label = entry.label;\n            shownData[idx2][name] = label;\n            this.setState({shownData})\n          }\n        }\n      }\n    }\n  }\n\n\n  deleteRow(value){\n    var data = {};\n    var body = {};\n    data['object'] = this.state.object;\n    data['attribute'] = this.state.attribute;\n    data['value'] = value;\n    body['data'] = data;\n    deleteTableData(body)\n    .then((res) => {\n      window.location.reload();\n    }).catch((err) => {\n      console.error(err)\n    });\n  }\n\n  valuesFromOriginal(original){\n    var data = JSON.parse(JSON.stringify(this.state.data));\n    let found = original;\n    let id = original._id;\n    for (let idx in data){\n      let datum = data[idx];\n      if(datum._id===id){\n        found = datum;\n      }\n    }\n    return found;\n  }\n    booleanConverterYesNo(value){\n        return value?\"Yes\":\"No\";\n    }\n\n    timeConverter(UNIX_timestamp){\n      let a = new Date(UNIX_timestamp * 1000);\n      let months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\n      let year = a.getFullYear();\n      let month = months[a.getMonth()];\n      let date = a.getDate();\n      let hour = a.getHours();\n      let min = a.getMinutes();\n      let sec = a.getSeconds();\n      let time = date + ' ' + month + ' ' + year + ' ' + hour + ':' + min + ':' + sec ;\n      return time;\n    }\n    isStep(shownData){\n        if(shownData[0] && shownData[0].stepTitle)\n            return true;\n        return false;\n    }\n  componentDidMount(){\n    if(this.props.view){\n      this.setState({show: false});\n    }\n    let thing = [];\n    console.log(this.props.object);\n\n    if(this.props.object === \"GET_STEPS_DATA\")\n      this.getStepsData(this.props.location.state.eventID);\n    else if(this.props.object === \"GET_EVENTS_DATA\")\n        this.getData();\n    else if(this.props.object === \"GET_USERS_DATA\")\n        this.getData();\n    else if(this.props.object === \"GET_ADMINS_DATA\")\n        this.getData();\n  }\n\n  getAndDisplayStepListData(eventHashedID){\n\n    console.log(\"Event hashedID: \"+ eventHashedID);\n    this.getStepsData(eventHashedID)\n        .then(() => {\n\n          var shownData = JSON.parse(JSON.stringify(this.state.stepData));\n          let isStep = this.isStep(shownData);\n            console.log(\"check here\");\n          console.log( shownData[0].createdAt);\n          for(let i=0; i < shownData.length; i++){\n            shownData[i].createdAt = this.timeConverter(shownData[i].createdAt);\n            if(isStep){\n              if (shownData[i].commonLocation >= 0)\n                shownData[i].commonLocation = COMMONLOCATIONS[shownData[i].commonLocation];\n\n              if(!shownData[i].isMapped){\n                shownData[i].latitude = \"-\";\n                shownData[i].longitude = \"-\";\n                shownData[i].commonLocation = \"-\";\n              }\n            }\n\n          }\n\n          this.setState({stepData: shownData});\n          return this.getManuals();\n        })\n        .then((manuals) => {\n          return this.fillStepListData();\n        })\n  }\n\n    deleteStep(hashedIDEvent, hashedIDStep){\n        return postDeleteStepAPICALL(hashedIDEvent, hashedIDStep)\n            .then(isDelete => {\n                return isDelete;\n            })\n    }\n\n    deleteUser(auiID){\n        return postDeleteUserAPICALL(auiID)\n            .then(isDelete => {\n                return isDelete;\n            })\n    }\n    \n    \n\n  render(){\n    let more = (original) => {\n      return null;\n    }\n    if(this.props.more){\n      more = (original) => {\n        let row = this.valuesFromOriginal(original);\n        return (\n          <button\n                    className = 'btn btn-success'\n                    onClick = {() => {\n                      this.props.history.push(`offering/${row._id}/${row.service}/${original.service}/${row.classroom}`);\n                    }}>\n                More\n          </button>\n        )\n      }\n    }\n    let columns = this.props.columns;\n\n    columns = this.props.columns.concat([{\n      Header: 'Action',\n      Cell: props => {\n        return(\n          <div >\n            {more(props.original)}\n            {/*<button*/}\n            {/*    style={{flex: 1}}*/}\n            {/*className = 'btn btn-danger'*/}\n            {/*onClick = {() => {*/}\n            {/*  this.deleteRow(props.original[this.state.attribute])*/}\n            {/*}}>*/}\n            {/*Delete</button>*/}\n\n              <button style={{flex: 1}} className='btn btn-primary' onClick={()=>{\n                  if(this.props.object === \"GET_EVENTS_DATA\"){\n\n                      return getEventFullData(props.original.hashedIDEvent)\n                          .then(data => {\n                              console.log(data);\n                              // schema.properties.adminAUIID.default = \"dfgh\";\n                              // schema.eventTitle = data.data.data.eventTitle;\n                              console.log(\"HNA\");\n                              console.log(data);\n                              let dataJSON = JSON.parse(JSON.stringify( data ));\n                              dataJSON.data.data.createdAtConverted = this.timeConverter(Date.parse(dataJSON.data.data.createdAt));\n                              dataJSON.data.data.updatedAtConverted = this.timeConverter(Date.parse(dataJSON.data.data.updatedAt));\n                              dataJSON.data.data.startDateConverted = this.timeConverter(Date.parse(dataJSON.data.data.startDate));\n                              dataJSON.data.data.endDateConverted = this.timeConverter(Date.parse(dataJSON.data.data.endDate));\n                              this.props.history.push('/admin/update-event', {data: dataJSON});\n                          })\n                  }else if(this.props.object === \"GET_STEPS_DATA\"){\n                      console.log(\"HASHEDIDEVENT:\");\n                      console.log(props);\n                      //props.original.hashedIDStep\n                      return getStepFullData(props.original.eventID, props.original.hashedIDStep)\n                          .then(data => {\n                              console.log(data);\n                              // schema.properties.adminAUIID.default = \"dfgh\";\n                              // schema.eventTitle = data.data.data.eventTitle;\n                              console.log(\"HNA\");\n                              console.log(data);\n                              let dataJSON = JSON.parse(JSON.stringify( data ));\n                              dataJSON.data.data.createdAtConverted = this.timeConverter(Date.parse(dataJSON.data.data.createdAt));\n                              dataJSON.data.data.updatedAtConverted = this.timeConverter(Date.parse(dataJSON.data.data.updatedAt));\n\n                              this.props.history.push('/admin/update-step', {data: dataJSON});\n                          })\n                  }else if(this.props.object === \"GET_USERS_DATA\"){\n                      console.log(\"HASHEDIDUSER:\");\n                      console.log(props.original.hashedID);\n                      //props.original.hashedIDStep\n                      return getUserFullData(props.original.hashedID)\n                          .then(data => {\n                              console.log(data);\n                              // schema.properties.adminAUIID.default = \"dfgh\";\n                              // schema.eventTitle = data.data.data.eventTitle;\n                              console.log(\"HNA\");\n                              console.log(data);\n                              let dataJSON = JSON.parse(JSON.stringify( data ));\n                              dataJSON.data.data.createdAtConverted = this.timeConverter(Date.parse(dataJSON.data.data.createdAt));\n                              dataJSON.data.data.updatedAtConverted = this.timeConverter(Date.parse(dataJSON.data.data.updatedAt));\n                              (dataJSON.data.data.gender === 1)?dataJSON.data.data.genderConverted = \"Male\":dataJSON.data.data.genderConverted = \"Female\";\n\n                              this.props.history.push('/admin/update-user', {data: dataJSON});\n                          })\n                  }\n              }}> Update</button>\n\n              {/*Old update (was surrounded by <Popup>)*/}\n              {/*<div>*/}\n              {/*  <div className=\"header\"> <h2>Update {lang.objects[object][this.state.language]}</h2></div>*/}\n              {/*  <div className=\"content\">*/}\n              {/*    <UpdateForm*/}\n              {/*        object = {object}*/}\n              {/*        columns = {this.props.columns}*/}\n              {/*        values = {props.original}*/}\n              {/*        attribute = {this.state.attribute}*/}\n              {/*        value = {props.original[this.state.attribute]}*/}\n              {/*    />*/}\n              {/*  </div>*/}\n              {/*</div>*/}\n\n\n              {(this.props.object === \"GET_EVENTS_DATA\")\n                  ?<button style={{flex: 1}} className='btn btn-success' onClick={()=>{\n                      // this.props.history.push('/admin/steps',{data:this.getAndDisplayStepListData(props.original.hashedIDEvent)});\n                      this.props.history.push('/admin/steps', {eventID: props.original.hashedIDEvent});\n                  }}> View Steps</button>\n                  :console.log(\"View Step Button Not Displayed\")\n              }\n\n              {(this.props.object === \"GET_STEPS_DATA\" || this.props.object === \"GET_USERS_DATA\" || this.props.object === \"GET_ADMINS_DATA\")\n                  ?<button style={{flex: 1}} className='btn btn-danger' onClick={()=>{\n                      let answer\n                      switch( this.props.object ){\n                          case \"GET_USERS_DATA\": case \"GET_ADMINS_DATA\":\n                              console.log(props.original.auiID);\n                               answer = window.prompt(\"Are you sure want to delete this User? Please enter the ID of the user:\")\n\n                              if(answer === props.original.auiID){\n                                  // console.log(this.props.history.location.state.eventID,props.original.hashedIDStep);\n                                  return this.deleteUser(props.original.hashedID)\n                                      .then((isDeleted) => {\n                                          if(isDeleted){\n                                              alert(\"User deleted successfully\");\n                                          }\n                                      })\n                              }else{\n                                  alert(\"The IDs don't match. Aborting...\")\n                              }\n                              console.log(answer);\n                              break;\n                          case \"GET_STEPS_DATA\":\n                              console.log(props.original.stepTitle);\n                               answer = window.prompt(\"Are you sure want to delete this Step? Please enter the title of the step:\")\n\n                              if(answer === props.original.stepTitle){\n                                  // console.log(this.props.history.location.state.eventID,props.original.hashedIDStep);\n                                  return this.deleteStep(this.props.history.location.state.eventID,props.original.hashedIDStep)\n                                      .then((isDeleted) => {\n                                          if(isDeleted){\n                                              alert(\"Step deleted successfully\");\n                                          }\n                                      })\n                              }else{\n                                  alert(\"The titles don't match. Aborting...\")\n                              }\n                              console.log(answer);\n                              break;\n                          default: console.log(\"Unrecognized type\");\n                      }\n\n                  }}> Delete</button>\n                  :console.log(\"Delete Step Button Not Displayed\")\n              }\n\n\n          </div>\n        )\n      },\n      show: this.state.show,\n      filterable: false,\n      width: 280\n    }]\n  );\n\n\n    const object = this.state.object;\n    const language = this.state.language;\n    return(\n      <div>\n        <h2 className='title'>{lang.objects[object][language]} Table</h2>\n        <button className='btn btn-outline-success' onClick={()=>{\n        this.props.history.push('add-event');\n    }}> New {lang.objects[object][language]}</button>\n        \n\n        <ReactTable\n          data = {this.state.shownData}\n          columns = {columns}\n          filterable = {true}\n         />\n       </div>\n    )\n  }\n}\n\nexport default withRouter(Table);\n"]},"metadata":{},"sourceType":"module"}