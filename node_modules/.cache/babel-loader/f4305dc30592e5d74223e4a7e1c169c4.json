{"ast":null,"code":"import _classCallCheck from \"/Users/IDogueto/Desktop/Repositories/emdashboarddeployed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/IDogueto/Desktop/Repositories/emdashboarddeployed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/IDogueto/Desktop/Repositories/emdashboarddeployed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/IDogueto/Desktop/Repositories/emdashboarddeployed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/IDogueto/Desktop/Repositories/emdashboarddeployed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/IDogueto/Desktop/Repositories/emdashboarddeployed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/IDogueto/Desktop/Repositories/emdashboarddeployed/src/dashboard/Step/updateStep.js\";\nimport React, { Component } from 'react';\nimport { postStepLocationUpdateAPICALL, postDeleteStepAPICALL, postStepUpdateAPICALL, getParticipantsDataAPICall } from '../../utils/requests';\nimport { withRouter } from 'react-router-dom';\nimport Form from \"react-jsonschema-form\";\nimport Dropdown from \"react-dropdown\";\nimport { MAP_MARKERS_NAMES } from \"../../utils/mapMarkers\";\nimport { MAP_MARKERS } from \"../../utils/mapMarkers\";\nimport LocationPicker from \"react-location-picker\";\nimport Popup from \"reactjs-popup\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n/* Default position */\n\nvar defaultPosition = {\n  lat: 33.538379,\n  lng: -5.105569\n};\nvar uiSchema = {\n  createdAt: {\n    \"ui:readonly\": true\n  },\n  updatedAt: {\n    \"ui:readonly\": true\n  },\n  eventHashedID: {\n    \"ui:readonly\": true\n  },\n  stepHashedID: {\n    \"ui:readonly\": true\n  }\n};\nvar schema = {\n  \"title\": \"Update Step\",\n  \"description\": \"Update an existing step\",\n  \"type\": \"object\",\n  \"required\": [\"stepTitle\", \"stepDescription\"],\n  \"properties\": {\n    \"eventHashedID\": {\n      \"type\": \"string\",\n      \"title\": \"Event System ID\"\n    },\n    \"stepHashedID\": {\n      \"type\": \"string\",\n      \"title\": \"Step System ID\"\n    },\n    \"createdAt\": {\n      \"type\": \"string\",\n      \"title\": \"Created At\"\n    },\n    \"updatedAt\": {\n      \"type\": \"string\",\n      \"title\": \"Last Updated At\"\n    },\n    \"stepTitle\": {\n      \"type\": \"string\",\n      \"title\": \"Step Title\"\n    },\n    \"stepDescription\": {\n      \"type\": \"string\",\n      \"title\": \"Step Description\"\n    }\n  }\n};\n\nvar UpdateStep =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UpdateStep, _Component);\n\n  function UpdateStep(props) {\n    var _this;\n\n    _classCallCheck(this, UpdateStep);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UpdateStep).call(this, props));\n\n    _this.onSubmitStepUpdate = function (_ref, e) {\n      var _this2 = this;\n\n      var formData = _ref.formData;\n      return postStepUpdateAPICALL(this.props.history.location.state.data.data.data.hashedIDEvent, this.props.history.location.state.data.data.data.hashedIDStep, formData.stepTitle, formData.stepDescription).then(function (hashedIDStepUpdated) {\n        console.log(hashedIDStepUpdated);\n\n        _this2.setState({\n          eventID: hashedIDStepUpdated\n        });\n\n        if (hashedIDStepUpdated.length === 24) {\n          // GLOBAL.HASHEDIDEVENTCREATED = hashedIDStepUpdated;\n          alert(\"Step Updated Successfully\"); //     this.forceUpdate();\n        } else {\n          alert(\"An error has occurred while updating the step\");\n        }\n      });\n    };\n\n    _this.state = {\n      startDate: new Date(_this.props.history.location.state.data.data.data.startDate),\n      endDate: new Date(_this.props.history.location.state.data.data.data.endDate),\n      // startDate: \"\",\n      // endDate: \"\",\n      position: {\n        lat: 0,\n        lng: 0\n      },\n      commonLocation: -1\n    };\n    console.log(\"DOZNLOQD\");\n    console.log(_this.props.history.location.state.data.data.data);\n    schema.properties.eventHashedID.default = _this.props.history.location.state.data.data.data.hashedIDEvent;\n    schema.properties.createdAt.default = _this.props.history.location.state.data.data.data.createdAtConverted;\n    schema.properties.updatedAt.default = _this.props.history.location.state.data.data.data.updatedAtConverted;\n    schema.properties.stepHashedID.default = _this.props.history.location.state.data.data.data.hashedIDStep;\n    schema.properties.stepTitle.default = _this.props.history.location.state.data.data.data.stepTitle;\n    schema.properties.stepDescription.default = _this.props.history.location.state.data.data.data.stepDescription; // Bind\n\n    _this.handleLocationChange = _this.handleLocationChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleStartDateTimeChange = _this.handleStartDateTimeChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEndDateTimeChange = _this.handleEndDateTimeChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateLocationOfStep = _this.updateLocationOfStep.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSubmitStepUpdate = _this.onSubmitStepUpdate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(UpdateStep, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"deleteStep\",\n    value: function deleteStep(hashedIDEvent, hashedIDStep) {\n      return postDeleteStepAPICALL(hashedIDEvent, hashedIDStep).then(function (isDelete) {\n        return isDelete;\n      });\n    }\n  }, {\n    key: \"handleStartDateTimeChange\",\n    value: function handleStartDateTimeChange(date) {\n      this.setState({\n        startDate: date\n      }); // console.log(this.state.startDate);\n    }\n  }, {\n    key: \"handleEndDateTimeChange\",\n    value: function handleEndDateTimeChange(date) {\n      this.setState({\n        endDate: date\n      });\n    }\n  }, {\n    key: \"handleLocationChange\",\n    value: function handleLocationChange(_ref2) {\n      var position = _ref2.position,\n          address = _ref2.address;\n      // Set new location\n      this.setState({\n        position: position,\n        address: address\n      });\n    }\n  }, {\n    key: \"updateLocationOfStep\",\n    value: function updateLocationOfStep() {\n      if (this.state.commonLocation !== -1) {\n        this.state.position.lat = MAP_MARKERS[this.state.commonLocation].latitude;\n        this.state.position.lng = MAP_MARKERS[this.state.commonLocation].longitude;\n      }\n\n      return postStepLocationUpdateAPICALL(this.props.history.location.state.data.data.data.hashedIDEvent, this.props.history.location.state.data.data.data.hashedIDStep, this.state.position.lat, this.state.position.lng, this.state.commonLocation).then(function (isChanged) {\n        if (isChanged) {\n          alert(\"Step Location Updated Successfully\");\n        } else {\n          alert(\"An error has happened while updating the location of the step\");\n        }\n      });\n    }\n  }, {\n    key: \"getParticipantsData\",\n    value: function getParticipantsData(usersIDs, hashedIDEvent, hashedIDStep, type) {\n      var _this3 = this;\n\n      return getParticipantsDataAPICall(usersIDs).then(function (data) {\n        if (data.status !== \"success\") {\n          alert(\"Could not get participants info\");\n        } else {\n          console.log(data);\n\n          switch (type) {\n            case \"completions\":\n              console.log(data.data);\n\n              _this3.props.history.push('/admin/view-completions', {\n                CompletionsReady: data.data,\n                hashedIDEvent: hashedIDEvent,\n                hashedIDStep: hashedIDStep\n              });\n\n              break;\n\n            case \"scanners\":\n              _this3.props.history.push('/admin/view-scanners', {\n                ScannersReady: data.data,\n                hashedIDEvent: hashedIDEvent,\n                hashedIDStep: hashedIDStep\n              });\n\n              break;\n\n            default:\n              console.log(\"Unrecognized type\");\n          }\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(Form, {\n        schema: schema,\n        uiSchema: uiSchema,\n        onChange: console.log(\"changed\"),\n        onSubmit: this.onSubmitStepUpdate,\n        onError: console.log(\"errors\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }), React.createElement(Popup, {\n        ref: \"popupEventLocationBtn\",\n        className: \"popup\",\n        trigger: React.createElement(\"button\", {\n          className: \"btn btn-primary\",\n          ref: \"popupEventLocationBtn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, \"Update Location\"),\n        position: \"right center\",\n        modal: true,\n        closeOnDocumentClick: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          marginBottom: 20,\n          marginTop: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        style: {\n          marginBottom: 20,\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, \"Pick a location\"), React.createElement(Dropdown, {\n        style: {\n          marginBottom: 20\n        },\n        options: MAP_MARKERS_NAMES,\n        onChange: function onChange(data) {\n          if (data.label !== \"Other\") _this4.setState({\n            commonLocation: MAP_MARKERS_NAMES.indexOf(data.label)\n          });else _this4.setState({\n            commonLocation: -1\n          });\n        },\n        value: MAP_MARKERS_NAMES[0],\n        placeholder: \"Select an option\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(LocationPicker, {\n        containerElement: React.createElement(\"div\", {\n          style: {\n            height: '50%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240\n          },\n          __self: this\n        }),\n        mapElement: React.createElement(\"div\", {\n          style: {\n            height: '400px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241\n          },\n          __self: this\n        }),\n        defaultPosition: defaultPosition,\n        onChange: this.handleLocationChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-outline-success\",\n        style: {\n          width: '97%'\n        },\n        onClick: function onClick() {\n          _this4.updateLocationOfStep();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, \"Bind Location to Step\")))), React.createElement(\"button\", {\n        className: \"btn btn-warning\",\n        onClick: function onClick() {\n          _this4.getParticipantsData(_this4.props.history.location.state.data.data.data.peopleCompletedIDs, _this4.props.history.location.state.data.data.data.hashedIDEvent, _this4.props.history.location.state.data.data.data.hashedIDStep, \"completions\"); // this.props.history.push('/admin/view-participants', {ParticipantsReady: this.props.history.location.state.data.data.data.ParticipantsReady});\n\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, \"View Completions\"), React.createElement(\"button\", {\n        className: \"btn btn-warning\",\n        onClick: function onClick() {\n          console.log(\"there\");\n          console.log(_this4.props.history.location.state.data.data.data.scanners);\n\n          _this4.getParticipantsData(_this4.props.history.location.state.data.data.data.scanners, _this4.props.history.location.state.data.data.data.hashedIDEvent, _this4.props.history.location.state.data.data.data.hashedIDStep, \"scanners\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"View Scanners\"), React.createElement(\"button\", {\n        className: \"btn btn-dark\",\n        onClick: function onClick() {\n          _this4.props.history.push('/admin/step-statistics', {\n            hashedIDEvent: _this4.props.history.location.state.data.data.data.hashedIDEvent,\n            hashedIDStep: _this4.props.history.location.state.data.data.data.hashedIDStep\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, \"Statistics\"), React.createElement(\"button\", {\n        style: {\n          position: \"absolute\",\n          right: 0\n        },\n        className: \"btn btn-danger\",\n        onClick: function onClick() {\n          console.log(_this4.props.history.location.state.data.data.data.stepTitle);\n          var answer = window.prompt(\"Are you sure want to delete this Step? Please enter the title of the step:\");\n\n          if (answer === _this4.props.history.location.state.data.data.data.stepTitle) {\n            // console.log(this.props.history.location.state.eventID,props.original.hashedIDStep);\n            return _this4.deleteStep(_this4.props.history.location.state.eventID, _this4.props.history.location.state.data.data.data.hashedIDStep).then(function (isDeleted) {\n              if (isDeleted) {\n                alert(\"Step deleted successfully\");\n              }\n            });\n          } else {\n            alert(\"The titles don't match. Aborting...\");\n          }\n\n          console.log(answer);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, \"Delete\")));\n    }\n  }]);\n\n  return UpdateStep;\n}(Component);\n\nexport default withRouter(UpdateStep);","map":{"version":3,"sources":["/Users/IDogueto/Desktop/Repositories/emdashboarddeployed/src/dashboard/Step/updateStep.js"],"names":["React","Component","postStepLocationUpdateAPICALL","postDeleteStepAPICALL","postStepUpdateAPICALL","getParticipantsDataAPICall","withRouter","Form","Dropdown","MAP_MARKERS_NAMES","MAP_MARKERS","LocationPicker","Popup","defaultPosition","lat","lng","uiSchema","createdAt","updatedAt","eventHashedID","stepHashedID","schema","UpdateStep","props","onSubmitStepUpdate","e","formData","history","location","state","data","hashedIDEvent","hashedIDStep","stepTitle","stepDescription","then","hashedIDStepUpdated","console","log","setState","eventID","length","alert","startDate","Date","endDate","position","commonLocation","properties","default","createdAtConverted","updatedAtConverted","handleLocationChange","bind","handleStartDateTimeChange","handleEndDateTimeChange","updateLocationOfStep","isDelete","date","address","latitude","longitude","isChanged","usersIDs","type","status","push","CompletionsReady","ScannersReady","marginBottom","marginTop","textAlign","label","indexOf","height","width","getParticipantsData","peopleCompletedIDs","scanners","right","answer","window","prompt","deleteStep","isDeleted"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport {\n    postStepLocationUpdateAPICALL,\n    postDeleteStepAPICALL,\n    postStepUpdateAPICALL,\n    getParticipantsDataAPICall\n} from '../../utils/requests';\nimport {withRouter} from 'react-router-dom';\nimport Form from \"react-jsonschema-form\";\nimport Dropdown from \"react-dropdown\";\nimport {MAP_MARKERS_NAMES} from \"../../utils/mapMarkers\";\nimport {MAP_MARKERS} from \"../../utils/mapMarkers\";\nimport LocationPicker from \"react-location-picker\";\nimport Popup from \"reactjs-popup\";\n\nimport \"react-datepicker/dist/react-datepicker.css\";\n\n\n/* Default position */\nconst defaultPosition = {\n    lat: 33.538379,\n    lng: -5.105569\n};\n\nconst uiSchema = {\n    createdAt: {\n        \"ui:readonly\": true\n    },\n    updatedAt: {\n        \"ui:readonly\": true\n    },\n    eventHashedID: {\n        \"ui:readonly\": true\n    },\n    stepHashedID: {\n        \"ui:readonly\": true\n    }\n\n};\n\n\nconst schema = {\n    \"title\": \"Update Step\",\n    \"description\": \"Update an existing step\",\n    \"type\": \"object\",\n    \"required\": [\n        \"stepTitle\",\n        \"stepDescription\"\n    ],\n    \"properties\": {\n        \"eventHashedID\": {\n            \"type\": \"string\",\n            \"title\": \"Event System ID\"\n        },\n        \"stepHashedID\": {\n            \"type\": \"string\",\n            \"title\": \"Step System ID\"\n        },\n        \"createdAt\": {\n            \"type\": \"string\",\n            \"title\": \"Created At\"\n        },\n        \"updatedAt\": {\n            \"type\": \"string\",\n            \"title\": \"Last Updated At\"\n        },\n        \"stepTitle\": {\n            \"type\": \"string\",\n            \"title\": \"Step Title\"\n        },\n        \"stepDescription\": {\n            \"type\": \"string\",\n            \"title\": \"Step Description\"\n        }\n    }\n};\n\n\nclass UpdateStep extends Component {\n    constructor (props) {\n        super(props);\n        this.state = {\n            startDate: new Date(this.props.history.location.state.data.data.data.startDate),\n            endDate: new Date(this.props.history.location.state.data.data.data.endDate),\n            // startDate: \"\",\n            // endDate: \"\",\n            position: {\n                lat: 0,\n                lng: 0\n            },\n            commonLocation: -1\n        };\n        console.log(\"DOZNLOQD\");\n        console.log(this.props.history.location.state.data.data.data);\n\n\n        schema.properties.eventHashedID.default = this.props.history.location.state.data.data.data.hashedIDEvent;\n        schema.properties.createdAt.default = this.props.history.location.state.data.data.data.createdAtConverted;\n        schema.properties.updatedAt.default = this.props.history.location.state.data.data.data.updatedAtConverted;\n        schema.properties.stepHashedID.default = this.props.history.location.state.data.data.data.hashedIDStep;\n        schema.properties.stepTitle.default = this.props.history.location.state.data.data.data.stepTitle;\n        schema.properties.stepDescription.default = this.props.history.location.state.data.data.data.stepDescription;\n\n        // Bind\n        this.handleLocationChange = this.handleLocationChange.bind(this);\n        this.handleStartDateTimeChange = this.handleStartDateTimeChange.bind(this);\n        this.handleEndDateTimeChange = this.handleEndDateTimeChange.bind(this);\n        this.updateLocationOfStep = this.updateLocationOfStep.bind(this);\n        this.onSubmitStepUpdate = this.onSubmitStepUpdate.bind(this);\n\n    }\n\n    componentDidMount(){\n\n    }\n\n    deleteStep(hashedIDEvent, hashedIDStep){\n        return postDeleteStepAPICALL(hashedIDEvent, hashedIDStep)\n            .then(isDelete => {\n                return isDelete;\n            })\n    }\n\n    handleStartDateTimeChange(date) {\n        this.setState({\n            startDate: date\n        });\n        // console.log(this.state.startDate);\n    }\n\n    handleEndDateTimeChange(date) {\n        this.setState({\n            endDate: date\n        });\n    }\n\n\n    handleLocationChange ({ position, address }) {\n\n        // Set new location\n        this.setState({ position, address });\n    }\n\n\n    updateLocationOfStep () {\n        if(this.state.commonLocation !== -1){\n            this.state.position.lat = MAP_MARKERS[this.state.commonLocation].latitude;\n            this.state.position.lng = MAP_MARKERS[this.state.commonLocation].longitude;\n        }\n        return postStepLocationUpdateAPICALL(this.props.history.location.state.data.data.data.hashedIDEvent, this.props.history.location.state.data.data.data.hashedIDStep, this.state.position.lat, this.state.position.lng, this.state.commonLocation)\n            .then((isChanged) => {\n\n                if (isChanged) {\n                    alert(\"Step Location Updated Successfully\");\n                } else {\n                    alert(\"An error has happened while updating the location of the step\");\n                }\n\n            })\n    }\n\n    getParticipantsData(usersIDs, hashedIDEvent, hashedIDStep, type){\n        return getParticipantsDataAPICall(usersIDs)\n            .then(data => {\n                if(data.status!==\"success\"){\n                    alert(\"Could not get participants info\");\n                }else{\n                    console.log(data);\n                    switch(type){\n                        case \"completions\":\n                            console.log(data.data);\n                            this.props.history.push('/admin/view-completions', {CompletionsReady: data.data, hashedIDEvent: hashedIDEvent, hashedIDStep: hashedIDStep});\n                            break;\n                        case \"scanners\": this.props.history.push('/admin/view-scanners', {ScannersReady: data.data, hashedIDEvent: hashedIDEvent, hashedIDStep: hashedIDStep});\n                            break;\n                        default: console.log(\"Unrecognized type\");\n                    }\n                }\n            })\n    }\n\n    onSubmitStepUpdate = function({formData}, e) {\n        return postStepUpdateAPICALL(this.props.history.location.state.data.data.data.hashedIDEvent, this.props.history.location.state.data.data.data.hashedIDStep, formData.stepTitle, formData.stepDescription)\n            .then(hashedIDStepUpdated => {\n                console.log(hashedIDStepUpdated);\n                this.setState({\n                    eventID: hashedIDStepUpdated\n                });\n                if(hashedIDStepUpdated.length === 24){\n                    // GLOBAL.HASHEDIDEVENTCREATED = hashedIDStepUpdated;\n                    alert(\"Step Updated Successfully\");\n                    //     this.forceUpdate();\n                }else{\n                    alert(\"An error has occurred while updating the step\");\n                }\n            })\n    };\n\n\n\n    render () {\n        return (\n            <div>\n                <div>\n                    <Form schema={schema}\n                          uiSchema={uiSchema}\n                          onChange={console.log(\"changed\")}\n                          onSubmit={this.onSubmitStepUpdate}\n                          onError={console.log(\"errors\")} />\n\n\n                    {/*Update Date and Time*/}\n\n                    {/*Update Location*/}\n                    <Popup\n                        ref={\"popupEventLocationBtn\"}\n                        className='popup'\n                        trigger={<button className='btn btn-primary' ref={\"popupEventLocationBtn\"}>Update Location</button>}\n                        position=\"right center\"\n                        modal\n                        closeOnDocumentClick>\n\n                        <div style={{marginBottom: 20, marginTop: 20}}>\n\n                            <h3 style={{marginBottom: 20, textAlign: 'center'}}>Pick a location</h3>\n                            <Dropdown style={{marginBottom: 20}} options={MAP_MARKERS_NAMES} onChange={(data) => {\n                                if(data.label !== \"Other\")\n                                    this.setState({\n                                        commonLocation: MAP_MARKERS_NAMES.indexOf(data.label)\n                                    });\n                                else\n                                    this.setState({\n                                        commonLocation: -1\n                                    });\n\n                            }} value={MAP_MARKERS_NAMES[0]} placeholder=\"Select an option\" />\n                            <div>\n                                <LocationPicker\n                                    containerElement={ <div style={ {height: '50%'} } /> }\n                                    mapElement={ <div style={ {height: '400px'} } /> }\n                                    defaultPosition={defaultPosition}\n                                    onChange={this.handleLocationChange} />\n                                <button className='btn btn-outline-success' style={{\n                                    width: '97%'}} onClick={()=>{\n                                    this.updateLocationOfStep();\n                                }}>Bind Location to Step</button>\n                            </div>\n\n\n                        </div>\n\n                    </Popup>\n\n                    {/*View Participants*/}\n\n                    <button className='btn btn-warning' onClick={()=>{\n                        this.getParticipantsData(this.props.history.location.state.data.data.data.peopleCompletedIDs, this.props.history.location.state.data.data.data.hashedIDEvent, this.props.history.location.state.data.data.data.hashedIDStep, \"completions\");\n                        // this.props.history.push('/admin/view-participants', {ParticipantsReady: this.props.history.location.state.data.data.data.ParticipantsReady});\n                    }}>View Completions</button>\n\n\n                    <button className='btn btn-warning' onClick={()=>{\n                        console.log(\"there\");\n                        console.log(this.props.history.location.state.data.data.data.scanners);\n                        this.getParticipantsData(this.props.history.location.state.data.data.data.scanners, this.props.history.location.state.data.data.data.hashedIDEvent, this.props.history.location.state.data.data.data.hashedIDStep, \"scanners\");\n                    }}>View Scanners</button>\n\n                    <button className='btn btn-dark' onClick={()=>{\n                        this.props.history.push('/admin/step-statistics',{hashedIDEvent: this.props.history.location.state.data.data.data.hashedIDEvent, hashedIDStep: this.props.history.location.state.data.data.data.hashedIDStep});\n                    }}>Statistics</button>\n\n                    <button style={{position: \"absolute\", right: 0}} className='btn btn-danger' onClick={()=>{\n                        console.log(this.props.history.location.state.data.data.data.stepTitle);\n                        let answer = window.prompt(\"Are you sure want to delete this Step? Please enter the title of the step:\")\n\n                        if(answer === this.props.history.location.state.data.data.data.stepTitle){\n                            // console.log(this.props.history.location.state.eventID,props.original.hashedIDStep);\n                            return this.deleteStep(this.props.history.location.state.eventID,  this.props.history.location.state.data.data.data.hashedIDStep)\n                                .then((isDeleted) => {\n                                    if(isDeleted){\n                                        alert(\"Step deleted successfully\");\n                                    }\n                                })\n                        }else{\n                            alert(\"The titles don't match. Aborting...\")\n                        }\n                        console.log(answer);\n                    }}>Delete</button>\n\n                </div>\n            </div>\n        )\n    }\n}\n\n\nexport default withRouter(UpdateStep);"]},"metadata":{},"sourceType":"module"}