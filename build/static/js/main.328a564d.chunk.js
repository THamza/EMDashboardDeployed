(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){},374:function(e,t,a){e.exports=a(761)},379:function(e,t,a){},4:function(e,t){e.exports={HASHEDID:"",AUTH:"",HASHEDIDEVENTCREATED:"",EVENTTITLE:""}},751:function(e,t){var a=window.screen.width>768?1*window.screen.width/3:window.screen.width,n={Wrapper:{},Containers:{DefaultStyle:{position:"fixed",width:a,padding:"10px 10px 10px 20px",zIndex:9998,WebkitBoxSizing:"",MozBoxSizing:"",boxSizing:"",height:"auto",display:"inline-block",border:"0",fontSize:"14px",WebkitFontSmoothing:"antialiased",fontFamily:'"Roboto","Helvetica Neue",Arial,sans-serif',fontWeight:"400",color:"#FFFFFF"},tl:{top:"0px",bottom:"auto",left:"0px",right:"auto"},tr:{top:"0px",bottom:"auto",left:"auto",right:"0px"},tc:{top:"0px",bottom:"auto",margin:"0 auto",left:"50%",marginLeft:-a/2},bl:{top:"auto",bottom:"0px",left:"0px",right:"auto"},br:{top:"auto",bottom:"0px",left:"auto",right:"0px"},bc:{top:"auto",bottom:"0px",margin:"0 auto",left:"50%",marginLeft:-a/2}},NotificationItem:{DefaultStyle:{position:"relative",width:"100%",cursor:"pointer",borderRadius:"4px",fontSize:"14px",margin:"10px 0 0",padding:"10px",display:"block",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box",boxSizing:"border-box",opacity:0,transition:"all 0.5s ease-in-out",WebkitTransform:"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)",willChange:"transform, opacity",isHidden:{opacity:0},isVisible:{opacity:1}},success:{borderTop:0,backgroundColor:"#a1e82c",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0},error:{borderTop:0,backgroundColor:"#fc727a",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0},warning:{borderTop:0,backgroundColor:"#ffbc67",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0},info:{borderTop:0,backgroundColor:"#63d8f1",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0}},Title:{DefaultStyle:{fontSize:"30px",margin:"0",padding:0,fontWeight:"bold",color:"#FFFFFF",display:"block",left:"15px",position:"absolute",top:"50%",marginTop:"-15px"}},MessageWrapper:{DefaultStyle:{marginLeft:"55px",marginRight:"30px",padding:"0 12px 0 0",color:"#FFFFFF",maxWidthwidth:"89%"}},Dismiss:{DefaultStyle:{fontFamily:"inherit",fontSize:"21px",color:"#000",float:"right",position:"absolute",right:"10px",top:"50%",marginTop:"-13px",backgroundColor:"#FFFFFF",display:"block",borderRadius:"50%",opacity:".4",lineHeight:"11px",width:"25px",height:"25px",outline:"0 !important",textAlign:"center",padding:"6px 3px 3px 3px",fontWeight:"300",marginLeft:"65px"},success:{},error:{},warning:{},info:{}},Action:{DefaultStyle:{background:"#ffffff",borderRadius:"2px",padding:"6px 20px",fontWeight:"bold",margin:"10px 0 0 0",border:0},success:{backgroundColor:"#a1e82c",color:"#ffffff"},error:{backgroundColor:"#fc727a",color:"#ffffff"},warning:{backgroundColor:"#ffbc67",color:"#ffffff"},info:{backgroundColor:"#63d8f1",color:"#ffffff"}},ActionWrapper:{DefaultStyle:{margin:0,padding:0}}};e.exports={style:n,thArray:["ID","Name","Salary","Country","City"],tdArray:[["1","Dakota Rice","$36,738","Niger","Oud-Turnhout"],["2","Minerva Hooper","$23,789","Cura\xe7ao","Sinaai-Waas"],["3","Sage Rodriguez","$56,142","Netherlands","Baileux"],["4","Philip Chaney","$38,735","Korea, South","Overland Park"],["5","Doris Greene","$63,542","Malawi","Feldkirchen in K\xe4rnten"],["6","Mason Porter","$78,615","Chile","Gloucester"]],iconsArray:["pe-7s-album","pe-7s-arc","pe-7s-back-2","pe-7s-bandaid","pe-7s-car","pe-7s-diamond","pe-7s-door-lock","pe-7s-eyedropper","pe-7s-female","pe-7s-gym","pe-7s-hammer","pe-7s-headphones","pe-7s-helm","pe-7s-hourglass","pe-7s-leaf","pe-7s-magic-wand","pe-7s-male","pe-7s-map-2","pe-7s-next-2","pe-7s-paint-bucket","pe-7s-pendrive","pe-7s-photo","pe-7s-piggy","pe-7s-plugin","pe-7s-refresh-2","pe-7s-rocket","pe-7s-settings","pe-7s-shield","pe-7s-smile","pe-7s-usb","pe-7s-vector","pe-7s-wine","pe-7s-cloud-upload","pe-7s-cash","pe-7s-close","pe-7s-bluetooth","pe-7s-cloud-download","pe-7s-way","pe-7s-close-circle","pe-7s-id","pe-7s-angle-up","pe-7s-wristwatch","pe-7s-angle-up-circle","pe-7s-world","pe-7s-angle-right","pe-7s-volume","pe-7s-angle-right-circle","pe-7s-users","pe-7s-angle-left","pe-7s-user-female","pe-7s-angle-left-circle","pe-7s-up-arrow","pe-7s-angle-down","pe-7s-switch","pe-7s-angle-down-circle","pe-7s-scissors","pe-7s-wallet","pe-7s-safe","pe-7s-volume2","pe-7s-volume1","pe-7s-voicemail","pe-7s-video","pe-7s-user","pe-7s-upload","pe-7s-unlock","pe-7s-umbrella","pe-7s-trash","pe-7s-tools","pe-7s-timer","pe-7s-ticket","pe-7s-target","pe-7s-sun","pe-7s-study","pe-7s-stopwatch","pe-7s-star","pe-7s-speaker","pe-7s-signal","pe-7s-shuffle","pe-7s-shopbag","pe-7s-share","pe-7s-server","pe-7s-search","pe-7s-film","pe-7s-science","pe-7s-disk","pe-7s-ribbon","pe-7s-repeat","pe-7s-refresh","pe-7s-add-user","pe-7s-refresh-cloud","pe-7s-paperclip","pe-7s-radio","pe-7s-note2","pe-7s-print","pe-7s-network","pe-7s-prev","pe-7s-mute","pe-7s-power","pe-7s-medal","pe-7s-portfolio","pe-7s-like2","pe-7s-plus","pe-7s-left-arrow","pe-7s-play","pe-7s-key","pe-7s-plane","pe-7s-joy","pe-7s-photo-gallery","pe-7s-pin","pe-7s-phone","pe-7s-plug","pe-7s-pen","pe-7s-right-arrow","pe-7s-paper-plane","pe-7s-delete-user","pe-7s-paint","pe-7s-bottom-arrow","pe-7s-notebook","pe-7s-note","pe-7s-next","pe-7s-news-paper","pe-7s-musiclist","pe-7s-music","pe-7s-mouse","pe-7s-more","pe-7s-moon","pe-7s-monitor","pe-7s-micro","pe-7s-menu","pe-7s-map","pe-7s-map-marker","pe-7s-mail","pe-7s-mail-open","pe-7s-mail-open-file","pe-7s-magnet","pe-7s-loop","pe-7s-look","pe-7s-lock","pe-7s-lintern","pe-7s-link","pe-7s-like","pe-7s-light","pe-7s-less","pe-7s-keypad","pe-7s-junk","pe-7s-info","pe-7s-home","pe-7s-help2","pe-7s-help1","pe-7s-graph3","pe-7s-graph2","pe-7s-graph1","pe-7s-graph","pe-7s-global","pe-7s-gleam","pe-7s-glasses","pe-7s-gift","pe-7s-folder","pe-7s-flag","pe-7s-filter","pe-7s-file","pe-7s-expand1","pe-7s-exapnd2","pe-7s-edit","pe-7s-drop","pe-7s-drawer","pe-7s-download","pe-7s-display2","pe-7s-display1","pe-7s-diskette","pe-7s-date","pe-7s-cup","pe-7s-culture","pe-7s-crop","pe-7s-credit","pe-7s-copy-file","pe-7s-config","pe-7s-compass","pe-7s-comment","pe-7s-coffee","pe-7s-cloud","pe-7s-clock","pe-7s-check","pe-7s-chat","pe-7s-cart","pe-7s-camera","pe-7s-call","pe-7s-calculator","pe-7s-browser","pe-7s-box2","pe-7s-box1","pe-7s-bookmarks","pe-7s-bicycle","pe-7s-bell","pe-7s-battery","pe-7s-ball","pe-7s-back","pe-7s-attention","pe-7s-anchor","pe-7s-albums","pe-7s-alarm","pe-7s-airplay"]}},752:function(e,t,a){},753:function(e,t,a){},754:function(e,t,a){},755:function(e,t,a){},757:function(e,t,a){},758:function(e,t,a){e.exports=a.p+"static/media/signin_background.0e135d23.jpg"},759:function(e,t,a){e.exports=a.p+"static/media/auiLogo.87522f70.png"},761:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(19),o=a.n(r),l=(a(379),a(7)),i=a(6),c=a(10),d=a(8),p=a(9),u=(a(103),a(20)),h=a(39),m=a(3);function f(e){if(!e)return null;try{var t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(a){return null}}var g=a(14),E=a.n(g),b=a(4),v=a.n(b),y="http://fye-em.aui.ma/",D="http://localhost:8080/admin/",S={GET_USERS_DATA:y+":hashedID/users",GET_ADMINS_DATA:y+":hashedID/admins",GET_EVENTS_DATA:y+":hashedID/events",GET_STEPS_DATA:y+":hashedID/steps",POST_SIGNOUT:y+"signout",GET_STATISTICS_DATA:y+":hashedID/statistics",GET_EVENT_STATISTICS_DATA:y+":hashedID/events/:eventHashedID/event-statistics",GET_STEP_STATISTICS_DATA:y+":hashedID/events/:eventHashedID/steps/:stepHashedID/step-statistics",POST_CREATE_EVENT:y+"events/:hashedID/events/create",POST_CREATE_STEP:y+"steps/:hashedID/events/:eventHashedID/steps/create",POST_SET_LOCATION_STEP:y+"steps/:hashedID/events/:eventHashedID/steps/:stepHashedID/addLocation",POST_SET_LOCATION_EVENT:y+"events/:hashedID/events/:eventHashedID/add-location",POST_SET_TIME_EVENT:y+"events/:hashedID/events/:eventHashedID/add-date-time",GET_EVENT_STEPS_LIST:y+"steps/:hashedID/events/:eventHashedID/steps/data",GET_EVENT_FULL_DATA:y+"events/:hashedID/event/:eventHashedID/full-data",GET_USER_FULL_DATA:y+"accounts/:hashedID/user/data",GET_STEP_FULL_DATA:y+"steps/:hashedID/event/:eventHashedID/step/:stepHashedID/full-data",POST_UPDATE_USER:y+"accounts/:hashedID/users/:userHashedID/update",POST_UPDATE_EVENT:y+"events/:hashedID/events/:eventHashedID/update",POST_UPDATE_STEP:y+"steps/:hashedID/events/:eventHashedID/steps/:stepHashedID/update",POST_DELETE_EVENT:y+"events/:hashedID/events/:eventHashedID/delete",POST_DELETE_USER:y+"accounts/:hashedID/users/:userHashedID/delete",POST_DELETE_STEP:y+"steps/:hashedID/events/:eventHashedID/steps/:stepHashedID/delete",GET_USERS_PARTICIPANTS_DATA:y+"accounts/:hashedID/users/data",POST_REMOVE_USER_FROM_PARTICIPANTS:y+"events/:hashedID/event/:eventHashedID/remove/participant",POST_REMOVE_USER_FROM_FULLY_COMPLETED:y+"events/:hashedID/event/:eventHashedID/remove/fully-completed",POST_REMOVE_USER_FROM_COMPLETION_OF_STEP:y+"steps/:hashedID/event/:eventHashedID/step/:stepHashedID/remove/completed",POST_REMOVE_USER_FROM_SCANNER_OF_STEP:y+"steps/:hashedID/events/:eventHashedID/steps/:stepHashedID/privilege/scanner/remove",POST_ADD_USER_TO_PARTICIPANTS:y+"events/admin/:hashedID/event/:eventHashedID/join",POST_ADD_USER_TO_COMPLETION_OF_STEP:y+"steps/:hashedID/events/:eventHashedID/steps/:stepHashedID/user/aui/:auiID/complete",POST_ADD_USER_TO_SCANNER_OF_STEP:y+"steps/:hashedID/events/:eventHashedID/steps/:stepHashedID/privilege/scanner/:hashedIDScanner",POST_ADD_USER_TO_FULLY_COMPLETED:y+"events/admin/:hashedID/event/:eventHashedID/leave"};function _(e,t,a,n,s){var r=S.POST_SET_LOCATION_STEP.replace(":hashedID",v.a.HASHEDID);return r=(r=r.replace(":eventHashedID",e)).replace(":stepHashedID",t),E.a.post(r,{latitude:a,longitude:n,commonLocation:s},{headers:{auth:v.a.AUTH}}).then(function(e){return console.log(e),!0}).catch(function(e){return console.error(e),!1})}function O(e,t,a,n){var s=S.POST_SET_LOCATION_EVENT.replace(":hashedID",v.a.HASHEDID);return s=s.replace(":eventHashedID",e),E.a.post(s,{latitude:t,longitude:a,commonLocation:n},{headers:{auth:v.a.AUTH}}).then(function(e){return console.log(e),!0}).catch(function(e){return console.error(e),!1})}function I(e,t,a){console.log("eventID:"),console.log(e);var n=S.POST_SET_TIME_EVENT.replace(":hashedID",v.a.HASHEDID);return n=n.replace(":eventHashedID",e),console.log(n),console.log(t),console.log(a),E.a.post(n,{startDate:t,endDate:a},{headers:{auth:v.a.AUTH}}).then(function(e){return console.log(e),!0}).catch(function(e){return console.error(e),!1})}function T(e){var t=S.GET_USERS_PARTICIPANTS_DATA.replace(":hashedID",v.a.HASHEDID);console.log(t),console.log("usersIDs"),console.log(e);var a=JSON.parse(JSON.stringify(e));return E.a.post(t,{IDs:a},{headers:{auth:v.a.AUTH}}).then(function(e){return console.log(e.data),e.data}).catch(function(e){console.error(e)})}function C(e){var t=S.POST_DELETE_USER.replace(":hashedID",v.a.HASHEDID);return t=t.replace(":userHashedID",e),console.log(t),E.a.post(t,{},{headers:{auth:v.a.AUTH}}).then(function(e){return console.log(e),"success"===e.data.status}).catch(function(e){console.error(e)})}function N(e,t){var a=S.POST_DELETE_STEP.replace(":hashedID",v.a.HASHEDID);return a=(a=a.replace(":eventHashedID",e)).replace(":stepHashedID",t),console.log(a),E.a.post(a,{},{headers:{auth:v.a.AUTH}}).then(function(e){return console.log(e),"success"===e.data.status}).catch(function(e){console.error(e)})}function A(e,t){var a=S[e].replace(":hashedID",v.a.HASHEDID);return console.log(a),E.a.get(a,{headers:{auth:v.a.AUTH},params:{}})}function x(e){return console.log("calling delete"),E.a.delete(D+"table",Object.assign(e,{headers:{token:f("token")}}))}var k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={value:"",token:f("token")},a.onClick=a.onClick.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"onClick",value:function(e){var t=this;e.preventDefault(),E.a.post(S.POST_SIGNOUT,{},{headers:{auth:v.a.AUTH}}).then(function(a){console.log(a),function(t,a){t||console.error("Error: key missing");try{localStorage.setItem(t,JSON.stringify(a))}catch(e){console.error(e)}}("token",null),t.props.history.push("/")})}},{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",{className:"userBar"},s.a.createElement("p",{className:"left"},"User: ",this.state.value),s.a.createElement("a",{href:"",className:"btn-link right",onClick:this.onClick},"Logout"))}}]),t}(s.a.Component),w=Object(h.f)(k),j=a(89),H=a.n(j),P={user:[{Header:"AUI ID",accessor:"auiID"},{Header:"First Name",accessor:"firstName"},{Header:"Last Name",accessor:"lastName"},{Header:"Email Address",accessor:"email"},{Header:"Phone Number",accessor:"phoneNumber"},{Header:"Date Created",accessor:"date"},{show:!1,Header:"Country",accessor:"country"},{show:!1,Header:"Gender",accessor:"gender"},{show:!1,Header:"Password",accessor:"password"},{show:!1,Header:"Password Confirmation",accessor:"confirmPassword"}],event:[{Header:"Title",accessor:"eventTitle"},{Header:"Description",accessor:"eventDescription"},{Header:"Organizer",accessor:"organizer"},{Header:"Number of Participants",accessor:"numberOfParticipants"},{Header:"Max. Participants",accessor:"maxParticipants"},{show:!1,Header:"Event ID",accessor:"hashedIDEvent"},{show:!1,Header:"Participants IDs",accessor:"participantsIDs"},{show:!1,Header:"Steps IDs",accessor:"stepsIDs"},{Header:"Start Date",accessor:"startDate"},{Header:"End Date",accessor:"endDate"},{Header:"Date of Creation",accessor:"date"}],step:[{show:!1,Header:"Event ID",accessor:"eventID"},{Header:"Title",accessor:"stepTitle"},{Header:"Description",accessor:"stepDescription"},{show:!1,Header:"Step ID",accessor:"hashedIDStep"},{Header:"Number of Completions",accessor:"numberOfPeopleCompleted"},{Header:"Is Mapped",accessor:"isMapped"},{Header:"Location",accessor:"commonLocation"},{Header:"Date of Creation",accessor:"createdAt"}]},L=a(163);function U(e){var t=e.link;return A(t.object).then(function(a){if(a.data.success){var n=[];for(var s in a.data.result){var r=a.data.result[s],o=r[t.attribute],l="";for(var i in t.shown)l+=r[t.shown[i]]+" ";var c={value:o,label:l,name:e.accessor};n.push(c)}return n}return console.log(a.data.message)}).catch(function(e){return console.error(e)})}var R=a(238),F=function(e){function t(e){var a;Object(l.a)(this,t),a=Object(c.a)(this,Object(d.a)(t).call(this,e));var n=[],s={},r={},o=function(e){var t=a.props.columns[e],o=t.accessor;n.push(o),s[o]="","fixed"===t.type&&(s[o]=a.props.fixed[o]),"link"===t.type&&a.getLinkOptions(t).then(function(e){a.setState({loading:!0}),r[o]=e,a.setState({loading:!1})})};for(var i in a.props.columns)o(i);return a.state={error:"",values:s,loading:!1,options:r},a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=this.state;e.target?t.values[e.target.name]=e.target.value:t.values[e.name]=e.value,this.setState(t)}},{key:"handleSubmit",value:function(e){var t,a,n=this;e.preventDefault(),console.log("values"),console.log(this.state.values),(t=this.props.object,a=this.state.values,E.a.post(D+"table",{test:"test",object:t,data:a},{headers:{auth:v.a.AUTH}})).then(function(e){var t=e.data;t.success?(n.setState({error:""}),window.location.reload()):n.setState({error:t.message})}).catch(function(e){console.error(e)})}},{key:"getLinkOptions",value:function(e){var t=e.link;return A(t.object).then(function(a){if(a.data.success){var n=[];for(var s in a.data.result){var r=a.data.result[s],o=r[t.attribute],l="";for(var i in t.shown)l+=r[t.shown[i]]+" ";var c={value:o,label:l,name:e.accessor};n.push(c)}return n}return console.log(a.data.message)}).catch(function(e){return console.error(e)})}},{key:"getLabel",value:function(e){console.log(e);var t=this.state.options[e],a=this.state.values[e];for(var n in t){var s=t[n];if(console.log(s),s.value===a)return s.label}return a}},{key:"render",value:function(){var e=[],t=null;for(var a in this.props.columns){var n=this.props.columns[a];if(n.accessor&&"fixed"!==n.type){switch(n.type){case"link":var r=this.state.options[n.accessor];t=s.a.createElement("label",{name:n.accessor,className:"form-group"},n.Header,":",s.a.createElement("br",null),s.a.createElement(R.a,{className:"select",onChange:this.handleChange,options:r,key:n.accessor,value:this.state.values[n.accessor]&&{label:this.getLabel(n.accessor),value:this.state.values[n.accessor]},placeholder:H.a.prompts.select.eng}));break;case"dropdown":t=s.a.createElement("label",{name:n.accessor,className:"form-group"},n.Header,":",s.a.createElement("br",null),s.a.createElement(R.a,{className:"select",onChange:this.handleChange,options:n.options,key:n.accessor,value:this.state.values[n.accessor]&&{label:this.state.values[n.accessor],value:this.state.values[n.accessor]},placeholder:H.a.prompts.select.eng}));break;case"textarea":t=s.a.createElement("label",{className:"form-group"},n.Header,":",s.a.createElement("br",null),s.a.createElement("textarea",{className:"form-control",type:"text",rows:n.rows,cols:n.cols,name:n.accessor,key:n.accessor,value:this.state.values[n.accessor],onChange:this.handleChange}));break;default:!1!==n.visible&&(t=s.a.createElement("label",null,n.Header,":",s.a.createElement("br",null),s.a.createElement("input",{type:"text",className:"form-control",name:n.accessor,key:n.accessor,value:this.state.values[n.accessor],onChange:this.handleChange})))}e.push(s.a.createElement("div",{key:n.accessor+"div",className:"form-group"},t))}}return this.state.loading?null:s.a.createElement("div",null,s.a.createElement("p",{className:"error"},this.state.error),s.a.createElement("form",{onSubmit:this.handleSubmit},e,s.a.createElement("input",{className:"btn btn-primary",type:"submit",value:"Submit"})))}}]),t}(s.a.Component),M=a(45),W=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.object,n=e.columns;return s.a.createElement("div",null,s.a.createElement(M.a,{className:"popup",trigger:s.a.createElement("button",{className:"btn btn-outline-success"}," New"),position:"right center",modal:!0,closeOnDocumentClick:!0},s.a.createElement("div",null,s.a.createElement("div",{className:"header"}," ",s.a.createElement("h2",null,"New ",t)),s.a.createElement("div",{className:"content"},s.a.createElement(F,{object:a,columns:n,fixed:this.props.fixed})))))}}]),t}(s.a.Component),B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:[],shownData:[],links:[]},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"deleteRow",value:function(e){var t={},a={};t.object=this.props.object,t.attribute="_id",t.value=e,a.data=t,x(a).then(function(e){window.location.reload()}).catch(function(e){console.error(e)})}},{key:"getData",value:function(){var e=this;console.log("Getting data..");var t=[];return A(this.props.object,this.props.fixed).then(function(a){t=a.data.result,e.setState({data:t})})}},{key:"getOptions",value:function(e,t){var a={object:e,attribute:"_id",shown:["lastName","firstName"],rows:t},n=this.state;return n.links.push(a),this.setState(n),function(e){var t=e.object,a=e.attribute,n=e.shown,s=e.rows;console.log(e);var r={};return A(t).then(function(e){var t=e.data.result,o=!0,l=!1,i=void 0;try{for(var c,d=t[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var p=c.value;if(s.includes(p[a])){var u="",h=!0,m=!1,f=void 0;try{for(var g,E=n[Symbol.iterator]();!(h=(g=E.next()).done);h=!0)u+=p[g.value]+" "}catch(b){m=!0,f=b}finally{try{h||null==E.return||E.return()}finally{if(m)throw f}}r[p[a]]=u}}}catch(b){l=!0,i=b}finally{try{o||null==d.return||d.return()}finally{if(l)throw i}}return console.log(r),r})}(a)}},{key:"makeShownData",value:function(e){var t=JSON.parse(JSON.stringify(this.state.data)),a=(JSON.parse(JSON.stringify(t)),JSON.parse(JSON.stringify(this.state.links))),n=!0,s=!1,r=void 0;try{for(var o,l=a[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var i=o.value.object,c=!0,d=!1,p=void 0;try{for(var u,h=t[Symbol.iterator]();!(c=(u=h.next()).done);c=!0){var m=u.value;m[i]=e[m[i]]}}catch(f){d=!0,p=f}finally{try{c||null==h.return||h.return()}finally{if(d)throw p}}}}catch(f){s=!0,r=f}finally{try{n||null==l.return||l.return()}finally{if(s)throw r}}this.setState({shownData:t})}},{key:"componentDidMount",value:function(){var e=this;this.getData().then(function(){var t=e.state.data.map(function(t){return t[e.props.link]});return e.getOptions(e.props.link,t)}).then(function(t){e.makeShownData(t)})}},{key:"render",value:function(){var e=this,t=(this.props.object,this.props.columns.concat([{Header:"Action",Cell:function(t){return s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.deleteRow(t.original._id)}},"Delete"))},show:this.state.show,filterable:!1,width:100}]));return s.a.createElement("div",null,s.a.createElement(W,{name:this.props.title,object:this.props.object,columns:t,fixed:this.props.fixed}),s.a.createElement(L.a,{data:this.state.shownData,columns:t,filterable:!0}))}}]),t}(s.a.Component),G=Object(h.f)(B),V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={offering:null},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.match.params,t=e.offering,a=(e.service,e.name),n=e.classroom,r={offering:t};return s.a.createElement("div",null,s.a.createElement("h2",{className:"title"},a," | Classroom ",n),s.a.createElement("div",{className:"row inside"},s.a.createElement("div",{className:"column"},s.a.createElement("h4",null,"Beneficiaries"),s.a.createElement(G,{title:"Beneficiary",link:"beneficiary",object:"enroll",fixed:r,columns:P.enroll})),s.a.createElement("div",{className:"column"},s.a.createElement("h4",null,"Caretakers"),s.a.createElement(G,{title:"Employee",link:"employee",object:"supervise",fixed:r,columns:P.supervise})),s.a.createElement("div",{className:"column"},s.a.createElement("h4",null,"Times"))))}}]),t}(s.a.Component),z=(Object(h.f)(V),a(44)),J=a.n(z),X=a(99),$=a(76),Y=a.n($),q=["Other","Main Gate","Enrollment Services","Admissions","The Center for Learning Excellence","Cafeteria","New Rest","Big Toms","Conference Center (Old Game Room)","Shop","Auditorium Building 4","Auditorium Building 7","Lab 7","Lab 11","Lab 8","Lab 8b","SSE Dean's Office","SBA Dean's Office","SHSS Dean's Office","Roman Theater","The Globe","Health Center","Building 17","President's Office","Soccer Field","Library","Building 1"],K=[{latitude:1,longitude:1,title:"Other",description:"desc2"},{latitude:33.536165,longitude:-5.102512,title:"Main Gate",description:"desc2"},{latitude:33.538547,longitude:-5.106237,title:"Enrollment Services",description:"desc2"},{latitude:33.538694,longitude:-5.106079,title:"Admissions",description:"desc2"},{latitude:33.537696,longitude:-5.107947,title:"The Center for Learning Excellence",description:"desc2"},{latitude:33.539291,longitude:-5.10608,title:"Cafeteria",description:"desc2"},{latitude:33.539144,longitude:-5.105519,title:"New Rest",description:"desc2"},{latitude:33.539453,longitude:-5.105904,title:"Big Toms",description:"desc2"},{latitude:33.538877,longitude:-5.106633,title:"Conference Center (Old Game Room)",description:"desc2"},{latitude:33.539136,longitude:-5.1063,title:"Shop",description:"desc2"},{latitude:33.538917,longitude:-5.107454,title:"Auditorium Building 4",description:"desc2"},{latitude:33.537935,longitude:-5.107935,title:"Auditorium Building 7",description:"desc2"},{latitude:33.538049,longitude:-5.107643,title:"Lab 7",description:"desc2"},{latitude:33.539283,longitude:-5.108334,title:"Lab 11",description:"desc2"},{latitude:33.538718,longitude:-5.107974,title:"Lab 8",description:"desc2"},{latitude:33.538478,longitude:-5.108295,title:"Lab 8b",description:"desc2"},{latitude:33.538595,longitude:-5.107095,title:"SSE Dean's Office",description:"desc2"},{latitude:33.538937,longitude:-5.108127,title:"SBA Dean's Office",description:"desc2"},{latitude:33.538458,longitude:-5.107731,title:"SHSS Dean's Office",description:"desc2"},{latitude:33.539829,longitude:-5.106431,title:"Roman Theater",description:"desc2"},{latitude:33.538413,longitude:-5.105577,title:"The Globe",description:"desc2"},{latitude:33.540325,longitude:-5.105543,title:"Health Center",description:"desc2"},{latitude:33.537881,longitude:-5.106596,title:"Building 17",description:"desc2"},{latitude:33.538631,longitude:-5.106091,title:"President's Office",description:"desc2"},{latitude:33.540711,longitude:-5.108629,title:"Soccer Field",description:"desc2"},{latitude:33.539856,longitude:-5.107306,title:"Library",description:"desc2"},{latitude:33.538776,longitude:-5.105987,title:"Building 1",description:"desc2"}],Q=a(77),Z=a.n(Q),ee=(a(75),{lat:33.538379,lng:-5.105569}),te={title:"Add Event",description:"Create a new event",type:"object",required:["eventTitle","eventDescription","maxParticipants"],properties:{eventTitle:{type:"string",title:"Event Title"},eventDescription:{type:"string",title:"Event Description"},maxParticipants:{type:"integer",title:"Maximum Participants"},organizer:{type:"string",title:"Organizer"},isOrdered:{type:"boolean",title:"Ordered",default:!1}}},ae=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).onSubmitEventCreation=function(e,t){var a=this,n=e.formData;return function(e,t,a,n,s){var r=S.POST_CREATE_EVENT.replace(":hashedID",v.a.HASHEDID);return E.a.post(r,{adminID:v.a.HASHEDID,eventTitle:e,eventDescription:t,maxParticipants:a,isOrdered:n,organizer:s},{headers:{auth:v.a.AUTH}}).then(function(e){return console.log(e),v.a.EVENTTITLE=e.data.data.eventTitleCreated,e.data.data.hashedIDEventCreated}).catch(function(e){console.error(e)})}(n.eventTitle,n.eventDescription,n.maxParticipants,n.isOrdered,n.organizer).then(function(e){a.setState({eventID:e}),25===a.state.eventID.length&&(v.a.HASHEDIDEVENTCREATED=e,a.refs.popupEventBtn.click())})},a.state={startDate:(new Date).now,endDate:(new Date).now,position:{lat:0,lng:0},address:"",commonLocation:-1},a.handleLocationChange=a.handleLocationChange.bind(Object(m.a)(Object(m.a)(a))),a.handleStartDateTimeChange=a.handleStartDateTimeChange.bind(Object(m.a)(Object(m.a)(a))),a.handleEndDateTimeChange=a.handleEndDateTimeChange.bind(Object(m.a)(Object(m.a)(a))),a.updateDateTimeLocationOfEvent=a.updateDateTimeLocationOfEvent.bind(Object(m.a)(Object(m.a)(a))),a.onSubmitEventCreation=a.onSubmitEventCreation.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleStartDateTimeChange",value:function(e){this.setState({startDate:e})}},{key:"handleEndDateTimeChange",value:function(e){this.setState({endDate:e})}},{key:"handleLocationChange",value:function(e){var t=e.position,a=e.address;this.setState({position:t,address:a})}},{key:"updateDateTimeLocationOfEvent",value:function(){var e=this;return I(this.state.eventID,this.state.startDate,this.state.endDate).then(function(t){if(t)return-1!==e.state.commonLocation&&(e.state.position.lat=K[e.state.commonLocation].latitude,e.state.position.lng=K[e.state.commonLocation].longitude),O(e.state.eventID,e.state.position.lat,e.state.position.lng,e.state.commonLocation).then(function(t){t?(alert("Event Created and Location Set Successfully"),e.props.history.push("add-step"),e.forceUpdate()):(alert("An error has happened while binding the location"),e.forceUpdate())});alert("An error has happened while binding the date")})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(M.a,{ref:"popupTime",className:"popup",trigger:s.a.createElement("label",{ref:"popupEventBtn"}),position:"right center",modal:!0,closeOnDocumentClick:!0},s.a.createElement("div",{style:{marginBottom:20,marginTop:20}},s.a.createElement("h3",{style:{marginBottom:20,textAlign:"center"}},"Pick a Date and Time"),s.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:20}},s.a.createElement(X.a,{style:{justifyContent:"center",textAlign:"left",marginRight:"20px"},selected:this.state.startDate,timeInputLabel:"Time:",todayButton:"Today",minDate:new Date,onChange:this.handleStartDateTimeChange,dateFormat:"MM/dd/yyyy h:mm aa",placeholderText:"Select a start date"}),s.a.createElement(X.a,{style:{justifyContent:"center",textAlign:"right"},selected:this.state.endDate,timeInputLabel:"Time:",todayButton:"Today",minDate:new Date,onChange:this.handleEndDateTimeChange,dateFormat:"MM/dd/yyyy h:mm aa",placeholderText:"Select an end date"})),s.a.createElement("h3",{style:{marginBottom:20,textAlign:"center"}},"Pick a location"),s.a.createElement(Y.a,{style:{marginBottom:20},options:q,onChange:function(t){"Other"!==t.label?e.setState({commonLocation:q.indexOf(t.label)}):e.setState({commonLocation:-1})},value:q[0],placeholder:"Select an option"}),s.a.createElement("div",null,s.a.createElement(Z.a,{containerElement:s.a.createElement("div",{style:{height:"50%"}}),mapElement:s.a.createElement("div",{style:{height:"400px"}}),defaultPosition:ee,onChange:this.handleLocationChange}),s.a.createElement("button",{className:"btn btn-outline-success",style:{width:"97%"},onClick:function(){e.updateDateTimeLocationOfEvent()}},"Bind Location to Event")))),s.a.createElement(J.a,{schema:te,onChange:console.log("changed"),onSubmit:this.onSubmitEventCreation,onError:console.log("errors")})))}}]),t}(n.Component),ne=Object(h.f)(ae),se={lat:33.538379,lng:-5.105569},re={createdAt:{"ui:readonly":!0},updatedAt:{"ui:readonly":!0},eventHashedID:{"ui:readonly":!0}},oe={title:"Update Event",description:"Update an existing event",type:"object",required:["eventTitle","eventDescription","maxParticipants"],properties:{eventHashedID:{type:"string",title:"Event System ID"},createdAt:{type:"string",title:"Created At"},updatedAt:{type:"string",title:"Last Updated At"},adminAUIID:{type:"string",title:"Admin AUI ID"},eventTitle:{type:"string",title:"Event Title"},eventDescription:{type:"string",title:"Event Description"},maxParticipants:{type:"integer",title:"Maximum Participants"},organizer:{type:"string",title:"Organizer"}}},le=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).onSubmitEventUpdate=function(e,t){var a=this,n=e.formData;return function(e,t,a,n,s,r){var o=S.POST_UPDATE_EVENT.replace(":hashedID",v.a.HASHEDID);return o=o.replace(":eventHashedID",e),console.log(o),E.a.post(o,{adminAUIID:t,eventTitle:a,eventDescription:n,maxParticipants:s,organizer:r},{headers:{auth:v.a.AUTH}}).then(function(e){return console.log("RESULT HERE:"),console.log(e),v.a.EVENTTITLE=e.data.data.eventTitleUpdated,e.data.data.hashedIDEventUpdated}).catch(function(e){console.error(e)})}(this.props.history.location.state.data.data.data.hashedIDEvent,n.adminAUIID,n.eventTitle,n.eventDescription,n.maxParticipants,n.organizer).then(function(e){console.log(e),a.setState({eventID:e}),25===e.length&&(v.a.HASHEDIDEVENTCREATED=e,alert("Event Updated Successfully"))})},a.state={startDate:new Date(a.props.history.location.state.data.data.data.startDate),endDate:new Date(a.props.history.location.state.data.data.data.endDate),position:{lat:0,lng:0},commonLocation:-1},console.log(a.props.history.location.state.data.data.data),oe.properties.eventHashedID.default=a.props.history.location.state.data.data.data.hashedIDEvent,oe.properties.createdAt.default=a.props.history.location.state.data.data.data.createdAtConverted,oe.properties.updatedAt.default=a.props.history.location.state.data.data.data.updatedAtConverted,oe.properties.adminAUIID.default=a.props.history.location.state.data.data.data.adminAUIID,oe.properties.eventTitle.default=a.props.history.location.state.data.data.data.eventTitle,oe.properties.eventDescription.default=a.props.history.location.state.data.data.data.eventDescription,oe.properties.maxParticipants.default=a.props.history.location.state.data.data.data.maxParticipants,oe.properties.organizer.default=a.props.history.location.state.data.data.data.organizer,a.handleLocationChange=a.handleLocationChange.bind(Object(m.a)(Object(m.a)(a))),a.handleStartDateTimeChange=a.handleStartDateTimeChange.bind(Object(m.a)(Object(m.a)(a))),a.handleEndDateTimeChange=a.handleEndDateTimeChange.bind(Object(m.a)(Object(m.a)(a))),a.updateLocationOfEvent=a.updateLocationOfEvent.bind(Object(m.a)(Object(m.a)(a))),a.onSubmitEventUpdate=a.onSubmitEventUpdate.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"handleStartDateTimeChange",value:function(e){this.setState({startDate:e})}},{key:"handleEndDateTimeChange",value:function(e){this.setState({endDate:e})}},{key:"handleLocationChange",value:function(e){var t=e.position,a=e.address;this.setState({position:t,address:a})}},{key:"deleteEvent",value:function(e){return function(e){var t=S.POST_DELETE_EVENT.replace(":hashedID",v.a.HASHEDID);return t=t.replace(":eventHashedID",e),console.log(t),E.a.post(t,{},{headers:{auth:v.a.AUTH}}).then(function(e){return console.log(e),"success"===e.data.status}).catch(function(e){console.error(e)})}(e).then(function(e){return e})}},{key:"updateLocationOfEvent",value:function(){return-1!==this.state.commonLocation&&(this.state.position.lat=K[this.state.commonLocation].latitude,this.state.position.lng=K[this.state.commonLocation].longitude),O(this.props.history.location.state.data.data.data.hashedIDEvent,this.state.position.lat,this.state.position.lng,this.state.commonLocation).then(function(e){e?alert("Event Updated Successfully"):alert("An error has happened while updating the location of the event")})}},{key:"getParticipantsData",value:function(e,t,a){var n=this;return T(e).then(function(e){if("success"!==e.status)alert("Could not get participants info");else switch(console.log(e.data),a){case"participants":n.props.history.push("/admin/view-participants",{ParticipantsReady:e.data,hashedIDEvent:t});break;case"fullyCompleted":n.props.history.push("/admin/view-fully-completed",{FullyCompletedReady:e.data,hashedIDEvent:t});break;default:console.log("Unrecognized type")}})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(J.a,{schema:oe,uiSchema:re,onChange:console.log("changed"),onSubmit:this.onSubmitEventUpdate,onError:console.log("errors")}),s.a.createElement(M.a,{ref:"popupEventDateAndTimeBtn",className:"popup",trigger:s.a.createElement("button",{className:"btn btn-primary",ref:"popupEventDateAndTimeBtn"},"Update Dates"),position:"right center",modal:!0,closeOnDocumentClick:!0},s.a.createElement("div",{style:{marginBottom:20,marginTop:20}},s.a.createElement("h3",{style:{marginBottom:20,textAlign:"center"}},"Pick a Date and Time"),s.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:20}},s.a.createElement(X.a,{style:{justifyContent:"center",textAlign:"left",marginRight:"20px"},selected:this.state.startDate,timeInputLabel:"Time:",todayButton:"Today",minDate:new Date,onChange:this.handleStartDateTimeChange,dateFormat:"MM/dd/yyyy h:mm aa",placeholderText:"Select a start date"}),s.a.createElement(X.a,{style:{justifyContent:"center",textAlign:"right"},selected:this.state.endDate,timeInputLabel:"Time:",todayButton:"Today",minDate:new Date,onChange:this.handleEndDateTimeChange,dateFormat:"MM/dd/yyyy h:mm aa",placeholderText:"Select an end date"}),s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return I(e.props.history.location.state.data.data.data.hashedIDEvent,e.state.startDate,e.state.endDate).then(function(t){t?alert("Event Date Updated Successfully"):(alert("An error has happened while updating the date"),e.forceUpdate())})}},"Submit")))),s.a.createElement(M.a,{ref:"popupEventLocationBtn",className:"popup",trigger:s.a.createElement("button",{className:"btn btn-success",ref:"popupEventLocationBtn"},"Update Location"),position:"right center",modal:!0,closeOnDocumentClick:!0},s.a.createElement("div",{style:{marginBottom:20,marginTop:20}},s.a.createElement("h3",{style:{marginBottom:20,textAlign:"center"}},"Pick a location"),s.a.createElement(Y.a,{style:{marginBottom:20},options:q,onChange:function(t){"Other"!==t.label?e.setState({commonLocation:q.indexOf(t.label)}):e.setState({commonLocation:-1})},value:q[0],placeholder:"Select an option"}),s.a.createElement("div",null,s.a.createElement(Z.a,{containerElement:s.a.createElement("div",{style:{height:"50%"}}),mapElement:s.a.createElement("div",{style:{height:"400px"}}),defaultPosition:se,onChange:this.handleLocationChange}),s.a.createElement("button",{className:"btn btn-outline-success",style:{width:"97%"},onClick:function(){e.updateLocationOfEvent()}},"Bind Location to Event")))),s.a.createElement("button",{className:"btn btn-warning",onClick:function(){e.getParticipantsData(e.props.history.location.state.data.data.data.participantIDs,e.props.history.location.state.data.data.data.hashedIDEvent,"participants")}},"View Participants"),s.a.createElement("button",{className:"btn btn-warning",onClick:function(){e.getParticipantsData(e.props.history.location.state.data.data.data.fullyCompletedIDs,e.props.history.location.state.data.data.data.hashedIDEvent,"fullyCompleted")}},"View Fully Completed"),s.a.createElement("button",{className:"btn btn-dark",onClick:function(){e.props.history.push("/admin/event-statistics",{hashedIDEvent:e.props.history.location.state.data.data.data.hashedIDEvent})}},"Statistics"),s.a.createElement("button",{style:{position:"absolute",right:0},className:"btn btn-danger",onClick:function(){var t=window.prompt("Are you sure want to delete this Event? Please enter the title of the event:");t===e.props.history.location.state.data.data.data.eventTitle?e.deleteEvent(e.props.history.location.state.data.data.data.hashedIDEvent):alert("The titles don't match. Aborting..."),console.log(t)}},"Delete")))}}]),t}(n.Component),ie=Object(h.f)(le),ce={lat:33.538379,lng:-5.105569},de={createdAt:{"ui:readonly":!0},updatedAt:{"ui:readonly":!0},eventHashedID:{"ui:readonly":!0},stepHashedID:{"ui:readonly":!0}},pe={title:"Update Step",description:"Update an existing step",type:"object",required:["stepTitle","stepDescription"],properties:{eventHashedID:{type:"string",title:"Event System ID"},stepHashedID:{type:"string",title:"Step System ID"},createdAt:{type:"string",title:"Created At"},updatedAt:{type:"string",title:"Last Updated At"},stepTitle:{type:"string",title:"Step Title"},stepDescription:{type:"string",title:"Step Description"}}},ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).onSubmitStepUpdate=function(e,t){var a=this,n=e.formData;return function(e,t,a,n){var s=S.POST_UPDATE_STEP.replace(":hashedID",v.a.HASHEDID);return s=(s=s.replace(":eventHashedID",e)).replace(":stepHashedID",t),console.log(s),E.a.post(s,{stepTitle:a,stepDescription:n},{headers:{auth:v.a.AUTH}}).then(function(e){return console.log("RESULT HERE:"),console.log(e),e.data.data.hashedIDStepUpdated}).catch(function(e){console.error(e)})}(this.props.history.location.state.data.data.data.hashedIDEvent,this.props.history.location.state.data.data.data.hashedIDStep,n.stepTitle,n.stepDescription).then(function(e){console.log(e),a.setState({eventID:e}),24===e.length?alert("Step Updated Successfully"):alert("An error has occurred while updating the step")})},a.state={startDate:new Date(a.props.history.location.state.data.data.data.startDate),endDate:new Date(a.props.history.location.state.data.data.data.endDate),position:{lat:0,lng:0},commonLocation:-1},console.log("DOZNLOQD"),console.log(a.props.history.location.state.data.data.data),pe.properties.eventHashedID.default=a.props.history.location.state.data.data.data.hashedIDEvent,pe.properties.createdAt.default=a.props.history.location.state.data.data.data.createdAtConverted,pe.properties.updatedAt.default=a.props.history.location.state.data.data.data.updatedAtConverted,pe.properties.stepHashedID.default=a.props.history.location.state.data.data.data.hashedIDStep,pe.properties.stepTitle.default=a.props.history.location.state.data.data.data.stepTitle,pe.properties.stepDescription.default=a.props.history.location.state.data.data.data.stepDescription,a.handleLocationChange=a.handleLocationChange.bind(Object(m.a)(Object(m.a)(a))),a.handleStartDateTimeChange=a.handleStartDateTimeChange.bind(Object(m.a)(Object(m.a)(a))),a.handleEndDateTimeChange=a.handleEndDateTimeChange.bind(Object(m.a)(Object(m.a)(a))),a.updateLocationOfStep=a.updateLocationOfStep.bind(Object(m.a)(Object(m.a)(a))),a.onSubmitStepUpdate=a.onSubmitStepUpdate.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"deleteStep",value:function(e,t){return N(e,t).then(function(e){return e})}},{key:"handleStartDateTimeChange",value:function(e){this.setState({startDate:e})}},{key:"handleEndDateTimeChange",value:function(e){this.setState({endDate:e})}},{key:"handleLocationChange",value:function(e){var t=e.position,a=e.address;this.setState({position:t,address:a})}},{key:"updateLocationOfStep",value:function(){return-1!==this.state.commonLocation&&(this.state.position.lat=K[this.state.commonLocation].latitude,this.state.position.lng=K[this.state.commonLocation].longitude),_(this.props.history.location.state.data.data.data.hashedIDEvent,this.props.history.location.state.data.data.data.hashedIDStep,this.state.position.lat,this.state.position.lng,this.state.commonLocation).then(function(e){e?alert("Step Location Updated Successfully"):alert("An error has happened while updating the location of the step")})}},{key:"getParticipantsData",value:function(e,t,a,n){var s=this;return T(e).then(function(e){if("success"!==e.status)alert("Could not get participants info");else switch(console.log(e),n){case"completions":console.log(e.data),s.props.history.push("/admin/view-completions",{CompletionsReady:e.data,hashedIDEvent:t,hashedIDStep:a});break;case"scanners":s.props.history.push("/admin/view-scanners",{ScannersReady:e.data,hashedIDEvent:t,hashedIDStep:a});break;default:console.log("Unrecognized type")}})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(J.a,{schema:pe,uiSchema:de,onChange:console.log("changed"),onSubmit:this.onSubmitStepUpdate,onError:console.log("errors")}),s.a.createElement(M.a,{ref:"popupEventLocationBtn",className:"popup",trigger:s.a.createElement("button",{className:"btn btn-primary",ref:"popupEventLocationBtn"},"Update Location"),position:"right center",modal:!0,closeOnDocumentClick:!0},s.a.createElement("div",{style:{marginBottom:20,marginTop:20}},s.a.createElement("h3",{style:{marginBottom:20,textAlign:"center"}},"Pick a location"),s.a.createElement(Y.a,{style:{marginBottom:20},options:q,onChange:function(t){"Other"!==t.label?e.setState({commonLocation:q.indexOf(t.label)}):e.setState({commonLocation:-1})},value:q[0],placeholder:"Select an option"}),s.a.createElement("div",null,s.a.createElement(Z.a,{containerElement:s.a.createElement("div",{style:{height:"50%"}}),mapElement:s.a.createElement("div",{style:{height:"400px"}}),defaultPosition:ce,onChange:this.handleLocationChange}),s.a.createElement("button",{className:"btn btn-outline-success",style:{width:"97%"},onClick:function(){e.updateLocationOfStep()}},"Bind Location to Step")))),s.a.createElement("button",{className:"btn btn-warning",onClick:function(){e.getParticipantsData(e.props.history.location.state.data.data.data.peopleCompletedIDs,e.props.history.location.state.data.data.data.hashedIDEvent,e.props.history.location.state.data.data.data.hashedIDStep,"completions")}},"View Completions"),s.a.createElement("button",{className:"btn btn-warning",onClick:function(){console.log("there"),console.log(e.props.history.location.state.data.data.data.scanners),e.getParticipantsData(e.props.history.location.state.data.data.data.scanners,e.props.history.location.state.data.data.data.hashedIDEvent,e.props.history.location.state.data.data.data.hashedIDStep,"scanners")}},"View Scanners"),s.a.createElement("button",{className:"btn btn-dark",onClick:function(){e.props.history.push("/admin/step-statistics",{hashedIDEvent:e.props.history.location.state.data.data.data.hashedIDEvent,hashedIDStep:e.props.history.location.state.data.data.data.hashedIDStep})}},"Statistics"),s.a.createElement("button",{style:{position:"absolute",right:0},className:"btn btn-danger",onClick:function(){console.log(e.props.history.location.state.data.data.data.stepTitle);var t=window.prompt("Are you sure want to delete this Step? Please enter the title of the step:");if(t===e.props.history.location.state.data.data.data.stepTitle)return e.deleteStep(e.props.history.location.state.eventID,e.props.history.location.state.data.data.data.hashedIDStep).then(function(e){e&&alert("Step deleted successfully")});alert("The titles don't match. Aborting..."),console.log(t)}},"Delete")))}}]),t}(n.Component),he=Object(h.f)(ue),me=(a(705),{lat:33.538379,lng:-5.105569}),fe={eventTitle:{"ui:readonly":!0},eventHashedID:{"ui:readonly":!0}},ge={title:"Add Step",description:"Create a new step",type:"object",required:["stepTitle","stepDescription"],properties:{eventHashedID:{type:"string",title:"Event ID"},eventTitle:{type:"string",title:"Event Title"},stepTitle:{type:"string",title:"Step Title"},stepDescription:{type:"string",title:"Step Description"}}},Ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).onSubmitStepCreation=function(e,t){var a=this,n=e.formData;return function(e,t,a){var n=S.POST_CREATE_STEP.replace(":hashedID",v.a.HASHEDID);return n=n.replace(":eventHashedID",e),console.log(n),console.log(e),console.log(t),console.log(a),E.a.post(n,{stepTitle:t,stepDescription:a},{headers:{auth:v.a.AUTH}}).then(function(e){return{eventID:e.data.data.hashedIDEvent,stepID:e.data.data.hashedIDStep}}).catch(function(e){console.error(e)})}(n.eventHashedID,n.stepTitle,n.stepDescription).then(function(e){console.log("HEE:"+e.eventID),console.log("HAA:"+e.stepID),a.setState({eventID:e.eventID}),a.setState({stepID:e.stepID}),24===a.state.stepID.length&&(window.confirm("Would you like to bind this step to a location?")?a.refs.popupMapBtn.click():(alert("Step Created Successfully"),a.forceUpdate()))})},a.state={position:{lat:0,lng:0},stepID:"",eventID:"",commonLocation:-1},""!==v.a.HASHEDIDEVENTCREATED&&(ge.properties.eventHashedID.default=v.a.HASHEDIDEVENTCREATED),""!==v.a.EVENTTITLE&&(ge.properties.eventTitle.default=v.a.EVENTTITLE),a.handleLocationChange=a.handleLocationChange.bind(Object(m.a)(Object(m.a)(a))),a.updateLocationOfStep=a.updateLocationOfStep.bind(Object(m.a)(Object(m.a)(a))),a.onSubmitStepCreation=a.onSubmitStepCreation.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleLocationChange",value:function(e){var t=e.position;e.address;this.setState({position:t})}},{key:"updateLocationOfStep",value:function(){var e=this;return-1!==this.state.commonLocation&&(this.state.position.lat=K[this.state.commonLocation].latitude,this.state.position.lng=K[this.state.commonLocation].longitude),_(this.state.eventID,this.state.stepID,this.state.position.lat,this.state.position.lng,this.state.commonLocation).then(function(t){t?(alert("Step Created and Location Set Successfully"),e.props.history.push("add-step"),e.forceUpdate()):(alert("An error has happened while binding the location"),e.forceUpdate())})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(M.a,{ref:"popup",className:"popup",trigger:s.a.createElement("label",{ref:"popupMapBtn"}),position:"right center",modal:!0,closeOnDocumentClick:!0},s.a.createElement("div",{style:{marginBottom:20,marginTop:20}},s.a.createElement("h3",{style:{marginBottom:20,textAlign:"center"}},"Pick a location"),s.a.createElement(Y.a,{options:q,onChange:function(t){"Other"!==t.label?e.setState({commonLocation:q.indexOf(t.label)}):e.setState({commonLocation:-1})},value:q[0],placeholder:"Select an option"})),s.a.createElement("div",null,s.a.createElement(Z.a,{containerElement:s.a.createElement("div",{style:{height:"50%"}}),mapElement:s.a.createElement("div",{style:{height:"400px"}}),defaultPosition:me,onChange:this.handleLocationChange}),s.a.createElement("button",{className:"btn btn-outline-success",style:{width:"97%"},onClick:function(){e.updateLocationOfStep()}},"Bind Location to Step"))),s.a.createElement(J.a,{schema:ge,uiSchema:fe,onSubmit:this.onSubmitStepCreation,onError:console.log("errors")}))}}]),t}(n.Component),be=Object(h.f)(Ee),ve=a(78),ye=a.n(ve),De=a(79),Se=a.n(De),_e=a(80),Oe=[["First Name","Last Name","Email","Phone Number"]],Ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).createTable=function(){var e=[];a.state.users=a.props.history.location.state.ParticipantsReady,console.log(a.state.users);for(var t=[];a.state.users.length>0;)t.push(a.state.users.splice(0,5));return console.log(t),t.map(function(t){var n=[];t.map(function(e){e.isDisplayable&&(Oe.push([e.firstName,e.lastName,e.email,e.phoneNumber]),n.push(s.a.createElement("td",{key:e.hashedID.toString()},s.a.createElement(ye.a,{isFlipped:a.state.isFlipped},s.a.createElement("div",{key:"front",style:Te.card},s.a.createElement("div",{style:{float:"right"}},s.a.createElement("text",{style:{fontWeight:"bold",color:"gray"}},"Aui ID: "),s.a.createElement("text",{style:{color:"gray"}},e.auiID,s.a.createElement("br",null))),e.isNew?s.a.createElement("text",{style:{color:"red"}},"New"):s.a.createElement("text",null),s.a.createElement("text",{style:{fontWeight:"bold"}},s.a.createElement("br",null),s.a.createElement("br",null),"First Name: "),s.a.createElement("text",null,e.firstName,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Last Name: "),s.a.createElement("text",null,e.lastName,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Email: "),s.a.createElement("text",null,e.email,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Phone Number: "),s.a.createElement("text",null,e.phoneNumber,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"System ID: "),s.a.createElement("text",null,e.hashedID,s.a.createElement("br",null),s.a.createElement("br",null)),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary",style:{width:"100%"},onClick:a.handleClickCard},"More info"),s.a.createElement("button",{className:"btn btn-danger",style:{width:"100%"},onClick:function(){var t=window.prompt("Are you sure want to remove this user from the participants list? Please enter the ID of the user:");t===e.auiID?a.removeUserFromParticipationOfAnEvent(a.props.history.location.state.hashedIDEvent,e.hashedID,e.auiID).then(function(t){t?(e.isDisplayable=!1,alert("Removed")):alert("An Error has occurred while removing "+e.auiID)}):alert("The IDs don't match. Aborting..."),console.log(t)}},"Remove"))),s.a.createElement("div",{key:"back",style:Te.card},s.a.createElement("text",{style:{fontWeight:"bold"}},"Aui ID: "),s.a.createElement("text",null,e.auiID,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"First Name: "),s.a.createElement("text",null,e.firstName,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Last Name: "),s.a.createElement("text",null,e.lastName,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Email: "),s.a.createElement("text",null,e.email,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Country: "),s.a.createElement("text",null,e.country,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Phone Number: "),s.a.createElement("text",null,e.phoneNumber,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"System ID: "),s.a.createElement("text",null,e.hashedID,s.a.createElement("br",null)),s.a.createElement("button",{className:"btn btn-primary",onClick:a.handleClickCard},"Back"))))))}),e.push(s.a.createElement("tr",null,n))}),e},a.state={users:[],isFlipped:!1,toSearch:""},console.log("___________________________________________________________________________"),console.log("ParticipantsIDs"),console.log(a.props.history.location.state.ParticipantsReady),a.setState({users:a.props.history.location.state.ParticipantsReady}),a.handleClickCard=a.handleClickCard.bind(Object(m.a)(Object(m.a)(a))),a.handleSearch=a.handleSearch.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleClickCard",value:function(e){e.preventDefault(),this.setState(function(e){return{isFlipped:!e.isFlipped}}),console.log("Switching to:"+this.state.isFlipped)}},{key:"handleSearch",value:function(e,t){var a=this;if(console.log(e),/^\d+$/.test(e)&&5===e.length)return function(e,t){var a=S.POST_ADD_USER_TO_PARTICIPANTS.replace(":hashedID",v.a.HASHEDID);return a=a.replace(":eventHashedID",e),console.log("auiID: "+t),console.log(a),E.a.post(a,{auiID:t},{headers:{auth:v.a.AUTH}}).then(function(e){return console.log(e.data.status),e}).catch(function(e){console.error(e)})}(this.props.history.location.state.hashedIDEvent,e).then(function(n){"success"===n.data.status?(console.log(n.data.data.userData),alert("User was added successfully"),a.setState(),console.log("__________"),console.log(t),a.props.history.location.state.ParticipantsReady.unshift(n.data.data.userData),console.log(a.props.history.location.state.ParticipantsReady),a.setState({users:a.props.history.location.state.ParticipantsReady})):alert("An error has occurred while while adding "+e)});alert("Invalid ID")}},{key:"removeUserFromParticipationOfAnEvent",value:function(e,t,a){return console.log("HNA"),console.log(void 0),function(e,t){var a=S.POST_REMOVE_USER_FROM_PARTICIPANTS.replace(":hashedID",v.a.HASHEDID);return a=a.replace(":eventHashedID",e),console.log(a),E.a.post(a,{hashedID:t},{headers:{auth:v.a.AUTH}}).then(function(e){return console.log(e.data.status),"success"===e.data.status}).catch(function(e){console.error(e)})}(e,t).then(function(e){return e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(_e.CSVLink,{filename:"event_participants.csv",data:Oe,className:"btn btn-primary"},"Download CSV File"),s.a.createElement("div",null,s.a.createElement("button",{style:{float:"right",marginTop:"0px"},className:"btn btn-info",onClick:function(){e.handleSearch(e.state.toSearch,e.state.users)}},"Add"),s.a.createElement(Se.a,{style:{flexDirection:"row",float:"right",marginTop:"2px",marginBottom:"30px",width:"30%"},placeholder:"Please enter an ID",onChange:function(t){e.setState({toSearch:t})},onSearch:this.handleSearch,suggestions:[]}))),s.a.createElement("label",{style:{marginBottom:"50px"}},"Number of participants: ",this.props.history.location.state.ParticipantsReady.length),s.a.createElement("table",null,this.createTable()))}}]),t}(n.Component),Te={card:{border:"1px solid #eeeeee",borderRadius:"3px",padding:"15px",width:"250px"},image:{height:"200px",width:"250px"},buttonStyleContainer:{flex:1,flexDirection:"row",marginHorizontal:20,marginTop:5}},Ce=Object(h.f)(Ie),Ne=[["First Name","Last Name","Email","Phone Number"]],Ae=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).createTable=function(){var e=[];a.state.users=a.props.history.location.state.FullyCompletedReady,console.log(a.state.users);for(var t=[];a.state.users.length>0;)t.push(a.state.users.splice(0,5));return console.log(t),t.map(function(t){var n=[];t.map(function(e){e.isDisplayable&&(Ne.push([e.firstName,e.lastName,e.email,e.phoneNumber]),n.push(s.a.createElement("td",{key:e.hashedID.toString()},s.a.createElement(ye.a,{isFlipped:a.state.isFlipped},s.a.createElement("div",{key:"front",style:xe.card},s.a.createElement("div",{style:{float:"right"}},s.a.createElement("text",{style:{fontWeight:"bold",color:"gray"}},"Aui ID: "),s.a.createElement("text",{style:{color:"gray"}},e.auiID,s.a.createElement("br",null))),e.isNew?s.a.createElement("text",{style:{color:"red"}},"New"):s.a.createElement("text",null),s.a.createElement("text",{style:{fontWeight:"bold"}},s.a.createElement("br",null),s.a.createElement("br",null),"First Name: "),s.a.createElement("text",null,e.firstName,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Last Name: "),s.a.createElement("text",null,e.lastName,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Email: "),s.a.createElement("text",null,e.email,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Phone Number: "),s.a.createElement("text",null,e.phoneNumber,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"System ID: "),s.a.createElement("text",null,e.hashedID,s.a.createElement("br",null),s.a.createElement("br",null)),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary",style:{width:"100%"},onClick:a.handleClickCard},"More info"),s.a.createElement("button",{className:"btn btn-danger",style:{width:"100%"},onClick:function(){var t=window.prompt("Are you sure want to remove this user from the participants list? Please enter the ID of the user:");t===e.auiID?a.removeUserFromFullyCompletedOfAnEvent(a.props.history.location.state.hashedIDEvent,e.hashedID,e.auiID).then(function(t){t?(e.isDisplayable=!1,alert("Removed")):alert("An Error has occurred while removing "+e.auiID)}):alert("The IDs don't match. Aborting..."),console.log(t)}},"Remove"))),s.a.createElement("div",{key:"back",style:xe.card},s.a.createElement("text",{style:{fontWeight:"bold"}},"Aui ID: "),s.a.createElement("text",null,e.auiID,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"First Name: "),s.a.createElement("text",null,e.firstName,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Last Name: "),s.a.createElement("text",null,e.lastName,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Email: "),s.a.createElement("text",null,e.email,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Country: "),s.a.createElement("text",null,e.country,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Phone Number: "),s.a.createElement("text",null,e.phoneNumber,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"System ID: "),s.a.createElement("text",null,e.hashedID,s.a.createElement("br",null)),s.a.createElement("button",{className:"btn btn-primary",onClick:a.handleClickCard},"Back"))))))}),e.push(s.a.createElement("tr",null,n))}),e},a.state={users:[],isFlipped:!1,toSearch:""},console.log("___________________________________________________________________________"),console.log("FullyCompletedReadyIDs"),console.log(a.props.history.location.state.FullyCompletedReady),a.setState({users:a.props.history.location.state.FullyCompletedReady}),a.handleClickCard=a.handleClickCard.bind(Object(m.a)(Object(m.a)(a))),a.handleSearch=a.handleSearch.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleClickCard",value:function(e){e.preventDefault(),this.setState(function(e){return{isFlipped:!e.isFlipped}}),console.log("Switching to:"+this.state.isFlipped)}},{key:"handleSearch",value:function(e,t){var a=this;if(console.log(e),/^\d+$/.test(e)&&5===e.length)return function(e,t){var a=S.POST_ADD_USER_TO_FULLY_COMPLETED.replace(":hashedID",v.a.HASHEDID);return a=a.replace(":eventHashedID",e),console.log("auiID: "+t),console.log(a),E.a.post(a,{auiID:t},{headers:{auth:v.a.AUTH}}).then(function(e){return console.log(e.data.status),e}).catch(function(e){console.error(e)})}(this.props.history.location.state.hashedIDEvent,e).then(function(n){"success"===n.data.status?(console.log(n.data.data.userData),alert("User was added successfully"),a.setState(),console.log("__________"),console.log(t),a.props.history.location.state.FullyCompletedReady.unshift(n.data.data.userData),console.log(a.props.history.location.state.FullyCompletedReady),a.setState({users:a.props.history.location.state.FullyCompletedReady})):alert("An error has occurred while while adding "+e)});alert("Invalid ID")}},{key:"removeUserFromFullyCompletedOfAnEvent",value:function(e,t,a){return console.log("HNA"),console.log(void 0),function(e,t){var a=S.POST_REMOVE_USER_FROM_FULLY_COMPLETED.replace(":hashedID",v.a.HASHEDID);return a=a.replace(":eventHashedID",e),console.log(a),E.a.post(a,{hashedID:t},{headers:{auth:v.a.AUTH}}).then(function(e){return console.log(e.data.status),"success"===e.data.status}).catch(function(e){console.error(e)})}(e,t).then(function(e){return e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(_e.CSVLink,{filename:"event_completed.csv",data:Ne,className:"btn btn-primary"},"Download CSV File"),s.a.createElement("h2",{className:"title",style:{marginBottom:"20px"}},"Fully Completed List"),s.a.createElement("div",null,s.a.createElement("button",{style:{float:"right",marginTop:"0px"},className:"btn btn-info",onClick:function(){e.handleSearch(e.state.toSearch,e.state.users)}},"Add"),s.a.createElement(Se.a,{style:{flexDirection:"row",float:"right",marginTop:"2px",marginBottom:"30px",width:"30%"},placeholder:"Please enter an ID",onChange:function(t){e.setState({toSearch:t})},onSearch:this.handleSearch,suggestions:[]}))),s.a.createElement("label",{style:{marginBottom:"50px"}},"Number of participants: ",this.props.history.location.state.FullyCompletedReady.length),s.a.createElement("table",null,this.createTable()))}}]),t}(n.Component),xe={card:{border:"1px solid #eeeeee",borderRadius:"3px",padding:"15px",width:"250px"},image:{height:"200px",width:"250px"},buttonStyleContainer:{flex:1,flexDirection:"row",marginHorizontal:20,marginTop:5}},ke=Object(h.f)(Ae),we=[["First Name","Last Name","Email","Phone Number"]],je=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).createTable=function(){var e=[];a.state.users=a.props.history.location.state.CompletionsReady,console.log(a.state.users);for(var t=[];a.state.users.length>0;)t.push(a.state.users.splice(0,5));return console.log(t),t.map(function(t){var n=[];t.map(function(e){e.isDisplayable&&(we.push([e.firstName,e.lastName,e.email,e.phoneNumber]),n.push(s.a.createElement("td",{key:e.hashedID.toString()},s.a.createElement(ye.a,{isFlipped:a.state.isFlipped},s.a.createElement("div",{key:"front",style:He.card},s.a.createElement("div",{style:{float:"right"}},s.a.createElement("text",{style:{fontWeight:"bold",color:"gray"}},"Aui ID: "),s.a.createElement("text",{style:{color:"gray"}},e.auiID,s.a.createElement("br",null))),e.isNew?s.a.createElement("text",{style:{color:"red"}},"New"):s.a.createElement("text",null),s.a.createElement("text",{style:{fontWeight:"bold"}},s.a.createElement("br",null),s.a.createElement("br",null),"First Name: "),s.a.createElement("text",null,e.firstName,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Last Name: "),s.a.createElement("text",null,e.lastName,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Email: "),s.a.createElement("text",null,e.email,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Phone Number: "),s.a.createElement("text",null,e.phoneNumber,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"System ID: "),s.a.createElement("text",null,e.hashedID,s.a.createElement("br",null),s.a.createElement("br",null)),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary",style:{width:"100%"},onClick:a.handleClickCard},"More info"),s.a.createElement("button",{className:"btn btn-danger",style:{width:"100%"},onClick:function(){var t=window.prompt("Are you sure want to remove this user from the participants list? Please enter the ID of the user:");t===e.auiID?a.removeUserFromCompletionOfAStep(a.props.history.location.state.hashedIDEvent,a.props.history.location.state.hashedIDStep,e.hashedID,e.auiID).then(function(t){t?(e.isDisplayable=!1,alert("Removed")):alert("An Error has occurred while removing "+e.auiID)}):alert("The IDs don't match. Aborting..."),console.log(t)}},"Remove"))),s.a.createElement("div",{key:"back",style:He.card},s.a.createElement("text",{style:{fontWeight:"bold"}},"Aui ID: "),s.a.createElement("text",null,e.auiID,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"First Name: "),s.a.createElement("text",null,e.firstName,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Last Name: "),s.a.createElement("text",null,e.lastName,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Email: "),s.a.createElement("text",null,e.email,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Country: "),s.a.createElement("text",null,e.country,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Phone Number: "),s.a.createElement("text",null,e.phoneNumber,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"System ID: "),s.a.createElement("text",null,e.hashedID,s.a.createElement("br",null)),s.a.createElement("button",{className:"btn btn-primary",onClick:a.handleClickCard},"Back"))))))}),e.push(s.a.createElement("tr",null,n))}),e},a.state={users:[],isFlipped:!1,toSearch:""},console.log("___________________________________________________________________________"),console.log("CompletionIDs"),console.log(a.props.history.location.state.CompletionsReady),a.setState({users:a.props.history.location.state.CompletionsReady}),console.log(a.props.history.location.state),a.handleClickCard=a.handleClickCard.bind(Object(m.a)(Object(m.a)(a))),a.handleSearch=a.handleSearch.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleClickCard",value:function(e){e.preventDefault(),this.setState(function(e){return{isFlipped:!e.isFlipped}}),console.log("Switching to:"+this.state.isFlipped)}},{key:"handleSearch",value:function(e,t){var a=this;if(console.log(e),/^\d+$/.test(e)&&5===e.length)return function(e,t,a){var n=S.POST_ADD_USER_TO_COMPLETION_OF_STEP.replace(":hashedID",v.a.HASHEDID);return n=(n=(n=n.replace(":eventHashedID",e)).replace(":stepHashedID",t)).replace(":auiID",a),console.log("auiID: "+a),console.log(n),E.a.get(n,{headers:{auth:v.a.AUTH},params:{}}).then(function(e){return console.log(e.data.status),e}).catch(function(e){console.error(e)})}(this.props.history.location.state.hashedIDEvent,this.props.history.location.state.hashedIDStep,e).then(function(t){"success"===t.data.status?(alert("User was added successfully"),a.setState({users:a.props.history.location.state.CompletionsReady}),alert("User added successfully")):alert("An error has occurred while while adding "+e)});alert("Invalid ID")}},{key:"removeUserFromCompletionOfAStep",value:function(e,t,a,n){return function(e,t,a){var n=S.POST_REMOVE_USER_FROM_COMPLETION_OF_STEP.replace(":hashedID",v.a.HASHEDID);return n=(n=n.replace(":eventHashedID",e)).replace(":stepHashedID",t),console.log(n),E.a.post(n,{hashedID:a},{headers:{auth:v.a.AUTH}}).then(function(e){return console.log(e.data.status),"success"===e.data.status}).catch(function(e){console.error(e)})}(e,t,a).then(function(e){return e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h2",{className:"title",style:{marginBottom:"20px"}},"Step Completions"),s.a.createElement("div",null,s.a.createElement(_e.CSVLink,{filename:"step_completion.csv",data:we,className:"btn btn-primary"},"Download CSV File"),s.a.createElement("div",null,s.a.createElement("button",{style:{float:"right",marginTop:"0px"},className:"btn btn-info",onClick:function(){e.handleSearch(e.state.toSearch,e.state.users)}},"Add"),s.a.createElement(Se.a,{style:{flexDirection:"row",float:"right",marginTop:"2px",marginBottom:"30px",width:"30%"},placeholder:"Please enter an ID",onChange:function(t){e.setState({toSearch:t})},onSearch:this.handleSearch,suggestions:[]}))),s.a.createElement("label",{style:{marginBottom:"50px"}},"Number of completions: ",this.props.history.location.state.CompletionsReady.length),s.a.createElement("table",null,this.createTable()))}}]),t}(n.Component),He={card:{border:"1px solid #eeeeee",borderRadius:"3px",padding:"15px",width:"250px"},image:{height:"200px",width:"250px"},buttonStyleContainer:{flex:1,flexDirection:"row",marginHorizontal:20,marginTop:5}},Pe=Object(h.f)(je),Le=[["First Name","Last Name","Email","Phone Number"]],Ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).createTable=function(){var e=[];a.state.users=a.props.history.location.state.ScannersReady,console.log(a.state.users);for(var t=[];a.state.users.length>0;)t.push(a.state.users.splice(0,5));return t.map(function(t){var n=[];t.map(function(e){e.isDisplayable&&(Le.push([e.firstName,e.lastName,e.email,e.phoneNumber]),n.push(s.a.createElement("td",{key:e.hashedID.toString()},s.a.createElement(ye.a,{isFlipped:a.state.isFlipped},s.a.createElement("div",{key:"front",style:Re.card},s.a.createElement("div",{style:{float:"right"}},s.a.createElement("text",{style:{fontWeight:"bold",color:"gray"}},"Aui ID: "),s.a.createElement("text",{style:{color:"gray"}},e.auiID,s.a.createElement("br",null))),e.isNew?s.a.createElement("text",{style:{color:"red"}},"New"):s.a.createElement("text",null),s.a.createElement("text",{style:{fontWeight:"bold"}},s.a.createElement("br",null),s.a.createElement("br",null),"First Name: "),s.a.createElement("text",null,e.firstName,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Last Name: "),s.a.createElement("text",null,e.lastName,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Email: "),s.a.createElement("text",null,e.email,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Phone Number: "),s.a.createElement("text",null,e.phoneNumber,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"System ID: "),s.a.createElement("text",null,e.hashedID,s.a.createElement("br",null),s.a.createElement("br",null)),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary",style:{width:"100%"},onClick:a.handleClickCard},"More info"),s.a.createElement("button",{className:"btn btn-danger",style:{width:"100%"},onClick:function(){var t=window.prompt("Are you sure want to remove this user from the participants list? Please enter the ID of the user:");t===e.auiID?a.removeUserFromScannerOfAStep(a.props.history.location.state.hashedIDEvent,a.props.history.location.state.hashedIDStep,e.hashedID,e.auiID).then(function(t){t?(e.isDisplayable=!1,alert("Scanner privilege revoked")):alert("An Error has occurred while revoking the scanner privilege to "+e.auiID)}):alert("The IDs don't match. Aborting..."),console.log(t)}},"Remove"))),s.a.createElement("div",{key:"back",style:Re.card},s.a.createElement("text",{style:{fontWeight:"bold"}},"Aui ID: "),s.a.createElement("text",null,e.auiID,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"First Name: "),s.a.createElement("text",null,e.firstName,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Last Name: "),s.a.createElement("text",null,e.lastName,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Email: "),s.a.createElement("text",null,e.email,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Country: "),s.a.createElement("text",null,e.country,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"Phone Number: "),s.a.createElement("text",null,e.phoneNumber,s.a.createElement("br",null)),s.a.createElement("text",{style:{fontWeight:"bold"}},"System ID: "),s.a.createElement("text",null,e.hashedID,s.a.createElement("br",null)),s.a.createElement("button",{className:"btn btn-primary",onClick:a.handleClickCard},"Back"))))))}),e.push(s.a.createElement("tr",null,n))}),e},a.state={users:[],isFlipped:!1,toSearch:""},console.log("___________________________________________________________________________"),console.log("ScannersReadyIDs"),console.log(a.props.history.location.state.ScannersReady),a.setState({users:a.props.history.location.state.ScannersReady}),a.handleClickCard=a.handleClickCard.bind(Object(m.a)(Object(m.a)(a))),a.handleSearch=a.handleSearch.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleClickCard",value:function(e){e.preventDefault(),this.setState(function(e){return{isFlipped:!e.isFlipped}}),console.log("Switching to:"+this.state.isFlipped)}},{key:"handleSearch",value:function(e,t){var a=this;if(console.log(e),/^\d+$/.test(e))return function(e,t,a){var n=S.POST_ADD_USER_TO_SCANNER_OF_STEP.replace(":hashedID",v.a.HASHEDID);return n=(n=(n=n.replace(":eventHashedID",e)).replace(":stepHashedID",t)).replace(":hashedIDScanner",a),console.log("auiID: "+a),console.log(n),E.a.get(n,{headers:{auth:v.a.AUTH},params:{}}).then(function(e){return console.log(e.data.status),e}).catch(function(e){console.error(e)})}(this.props.history.location.state.hashedIDEvent,this.props.history.location.state.hashedIDStep,e).then(function(t){"success"===t.data.status?(alert("User was added successfully"),a.setState({users:a.props.history.location.state.ScannersReady}),alert("User added successfully")):alert("An error has occurred while while adding "+e)});alert("Invalid ID")}},{key:"removeUserFromScannerOfAStep",value:function(e,t,a,n){return function(e,t,a){var n=S.POST_REMOVE_USER_FROM_SCANNER_OF_STEP.replace(":hashedID",v.a.HASHEDID);return n=(n=n.replace(":eventHashedID",e)).replace(":stepHashedID",t),console.log(n),E.a.post(n,{hashedID:a},{headers:{auth:v.a.AUTH}}).then(function(e){return console.log(e.data.status),"success"===e.data.status}).catch(function(e){console.error(e)})}(e,t,a).then(function(e){return e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h2",{className:"title",style:{marginBottom:"20px"}},"Step Scanners"),s.a.createElement("div",null,s.a.createElement(_e.CSVLink,{filename:"step_scanners.csv",data:Le,className:"btn btn-primary"},"Download CSV File"),s.a.createElement("div",null,s.a.createElement("button",{style:{float:"right",marginTop:"0px"},className:"btn btn-info",onClick:function(){e.handleSearch(e.state.toSearch,e.state.users)}},"Add"),s.a.createElement(Se.a,{style:{flexDirection:"row",float:"right",marginTop:"2px",marginBottom:"30px",width:"30%"},placeholder:"Please enter an ID",onChange:function(t){e.setState({toSearch:t})},onSearch:this.handleSearch,suggestions:[]}))),s.a.createElement("label",{style:{marginBottom:"50px"}},"Number of Scanners: ",this.props.history.location.state.ScannersReady.length),s.a.createElement("table",null,this.createTable()))}}]),t}(n.Component),Re={card:{border:"1px solid #eeeeee",borderRadius:"3px",padding:"15px",width:"250px"},image:{height:"200px",width:"250px"},buttonStyleContainer:{flex:1,flexDirection:"row",marginHorizontal:20,marginTop:5}},Fe=Object(h.f)(Ue),Me={createdAt:{"ui:readonly":!0},updatedAt:{"ui:readonly":!0},hashedID:{"ui:readonly":!0},auiID:{"ui:readonly":!0}},We={title:"Update Step",description:"Update an existing step",type:"object",required:["firstName","lastName","email","phoneNumber","gender"],properties:{hashedID:{type:"string",title:"User System ID"},createdAt:{type:"string",title:"Created At"},updatedAt:{type:"string",title:"Last Updated At"},auiID:{type:"string",title:"AUI ID"},firstName:{type:"string",title:"First Name"},lastName:{type:"string",title:"lastName"},email:{type:"string",title:"Email"},phoneNumber:{type:"number",title:"Phone Number"},gender:{type:"string",title:"Gender"}}},Be=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).onSubmitStepUpdate=function(e,t){var a,n=e.formData;return a="Male"===n.gender?1:0,function(e,t,a,n,s,r){var o=S.POST_UPDATE_USER.replace(":hashedID",v.a.HASHEDID);return o=o.replace(":userHashedID",e),console.log(o),console.log("firstName:"+t+"lastName:"+a+"email:"+n+"phoneNumber:"+s+"gender:"+r),E.a.post(o,{firstName:t,lastName:a,email:n,phoneNumber:s,gender:r},{headers:{auth:v.a.AUTH}}).then(function(e){return console.log("RESULT HERE:"),console.log(e),"success"===e.data.status}).catch(function(e){console.error(e)})}(this.props.history.location.state.data.data.data.hashedID,n.firstName,n.lastName,n.email,n.phoneNumber.toString(),a).then(function(e){console.log(e),e?alert("User Updated Successfully"):alert("An error has occurred while updating the user")})},a.state={},console.log("DOZNLOQD"),console.log(a.props.history.location.state.data.data.data),We.properties.hashedID.default=a.props.history.location.state.data.data.data.hashedID,We.properties.createdAt.default=a.props.history.location.state.data.data.data.createdAtConverted,We.properties.updatedAt.default=a.props.history.location.state.data.data.data.updatedAtConverted,We.properties.auiID.default=a.props.history.location.state.data.data.data.auiID,We.properties.firstName.default=a.props.history.location.state.data.data.data.firstName,We.properties.lastName.default=a.props.history.location.state.data.data.data.lastName,We.properties.email.default=a.props.history.location.state.data.data.data.email,We.properties.phoneNumber.default=parseInt(a.props.history.location.state.data.data.data.phoneNumber),We.properties.gender.default=a.props.history.location.state.data.data.data.genderConverted,a.onSubmitStepUpdate=a.onSubmitStepUpdate.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"deleteUser",value:function(e){return C(e).then(function(e){return e})}},{key:"getParticipantsData",value:function(e,t,a,n){var s=this;return T(e).then(function(e){if("success"!==e.status)alert("Could not get participants info");else switch(console.log(e),n){case"completions":console.log(e.data),s.props.history.push("/admin/view-completions",{CompletionsReady:e.data,hashedIDEvent:t,hashedIDStep:a});break;case"scanners":s.props.history.push("/admin/view-scanners",{ScannersReady:e.data,hashedIDEvent:t,hashedIDStep:a});break;default:console.log("Unrecognized type")}})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(J.a,{schema:We,uiSchema:Me,onChange:console.log("changed"),onSubmit:this.onSubmitStepUpdate,onError:console.log("errors")}),s.a.createElement("button",{className:"btn btn-warning",onClick:function(){alert("Coming Soon")}},"View Scan Privilege"),s.a.createElement("button",{className:"btn btn-warning",onClick:function(){alert("Coming Soon")}},"View Joined Events"),s.a.createElement("button",{className:"btn btn-dark",onClick:function(){alert("Coming Soon")}},"Statistics"),s.a.createElement("button",{style:{position:"absolute",right:0},className:"btn btn-danger",onClick:function(){console.log(e.props.history.location.state.data.data.data.auiID);var t=window.prompt("Are you sure want to delete this User? Please enter the ID of the user:");if(t===e.props.history.location.state.data.data.data.auiID)return e.deleteUser(e.props.history.location.state.data.data.data.auiID).then(function(e){e&&alert("User deleted successfully")});alert("The IDs don't match. Aborting..."),console.log(t)}},"Delete")))}}]),t}(n.Component),Ge=Object(h.f)(Be),Ve=a(30),ze=a.n(Ve),Je=a(768),Xe=a(766),$e=a(767),Ye=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"card"+(this.props.plain?" card-plain":"")},s.a.createElement("div",{className:"header"+(this.props.hCenter?" text-center":"")},s.a.createElement("h4",{className:"title"},this.props.title),s.a.createElement("p",{className:"category"},this.props.category)),s.a.createElement("div",{className:"content"+(this.props.ctAllIcons?" all-icons":"")+(this.props.ctTableFullWidth?" table-full-width":"")+(this.props.ctTableResponsive?" table-responsive":"")+(this.props.ctTableUpgrade?" table-upgrade":"")},this.props.content,s.a.createElement("div",{className:"footer"},this.props.legend,null!=this.props.stats?s.a.createElement("hr",null):"",s.a.createElement("div",{className:"stats"},s.a.createElement("i",{className:this.props.statsIcon})," ",this.props.stats))))}}]),t}(n.Component),qe=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"card card-stats"},s.a.createElement("div",{className:"content"},s.a.createElement(Xe.a,null,s.a.createElement($e.a,{xs:5},s.a.createElement("div",{className:"icon-big text-center icon-warning"},this.props.bigIcon)),s.a.createElement($e.a,{xs:7},s.a.createElement("div",{className:"numbers"},s.a.createElement("p",null,this.props.statsText),this.props.statsValue))),s.a.createElement("div",{className:"footer"},s.a.createElement("hr",null),s.a.createElement("div",{className:"stats"},this.props.statsIcon," ",this.props.statsIconText))))}}]),t}(n.Component),Ke=(a(223),{labels:[],series:[]}),Qe={names:["Scanners","Users"],types:["info","danger"]},Ze={labels:[],series:[]},et={names:["Participants","Fully Completed"],types:["info","danger"]},tt={labels:[],series:[]},at={names:["Participants","Users"],types:["info","danger"]},nt={labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],series:[[]]},st={low:0,high:1e3,showArea:!1,height:"245px",axisX:{showGrid:!1},lineSmooth:!0,showLine:!0,showPoint:!0,fullWidth:!0,chartPadding:{right:50}},rt=[["screen and (max-width: 640px)",{axisX:{labelInterpolationFnc:function(e){return e[0]}}}]],ot={names:["Completions "],types:["info"]},lt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={hashedIDEvent:a.props.history.location.state.hashedIDEvent,numberOfUsers:0,numberOfParticipants:0,numberOfFullyCompleted:0,numberOfSteps:0,numberOfScanners:0,stepTitles:[],stepsCompletion:[]},a.getData=a.getData.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"createLegend",value:function(e){for(var t=[],a=0;a<e.names.length;a++){var n="fa fa-circle text-"+e.types[a];t.push(s.a.createElement("i",{className:n,key:a})),t.push(" "),t.push(e.names[a])}return t}}]),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getData(this.state.hashedIDEvent),this.interval=setInterval(function(){return e.getData(e.state.hashedIDEvent)},3e3)}},{key:"getData",value:function(e){var t=this;console.log("Getting data..");var a=[];return function(e){var t=S.GET_EVENT_STATISTICS_DATA.replace(":hashedID",v.a.HASHEDID);return t=t.replace(":eventHashedID",e),console.log(t),E.a.get(t,{headers:{auth:v.a.AUTH},params:{}})}(e).then(function(e){a=e.data.data,t.setState({numberOfUsers:a.numberOfUsers,numberOfParticipants:a.numberOfParticipants,numberOfFullyCompleted:a.numberOfFullyCompleted,numberOfScanners:a.numberOfScanners,numberOfSteps:a.numberOfSteps,stepTitles:a.stepTitles,stepsCompletion:a.stepsCompletion}),Ke.series=[a.numberOfScanners,a.numberOfUsers-a.numberOfScanners],Ke.labels=[parseInt(100*a.numberOfScanners/a.numberOfUsers).toString()+"%",parseInt(100*(a.numberOfUsers-a.numberOfScanners)/a.numberOfUsers).toString()+"%"],Ze.series=[a.numberOfFullyCompleted,a.numberOfParticipants-a.numberOfFullyCompleted],Ze.labels=[parseInt(100*a.numberOfFullyCompleted/a.numberOfParticipants).toString()+"%",parseInt(100*(a.numberOfParticipants-a.numberOfFullyCompleted)/a.numberOfParticipants).toString()+"%"],tt.series=[a.numberOfParticipants,a.numberOfUsers-a.numberOfParticipants],tt.labels=[parseInt(100*a.numberOfParticipants/a.numberOfUsers).toString()+"%",parseInt(100*(a.numberOfUsers-a.numberOfParticipants)/a.numberOfUsers).toString()+"%"],nt.series[0]=a.stepCompletionWeeklyTraffic,st.high=Math.max(a.stepCompletionWeeklyTraffic+50),t.forceUpdate()})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"content"},s.a.createElement(Je.a,{fluid:!0},s.a.createElement(Xe.a,null,s.a.createElement($e.a,{lg:3,sm:6},s.a.createElement(qe,{bigIcon:s.a.createElement("i",{className:" text-warning",class:"fa fa-qrcode"}),statsText:"Scanners",statsValue:this.state.numberOfScanners,statsIcon:s.a.createElement("i",{className:"fa fa-refresh"}),statsIconText:"Updated now"})),s.a.createElement($e.a,{lg:3,sm:6},s.a.createElement(qe,{bigIcon:s.a.createElement("i",{className:"fas fa-shoe-prints",style:{color:"blue"}}),statsText:"Steps",statsValue:this.state.numberOfSteps,statsIcon:s.a.createElement("i",{className:"fa fa-calendar-o"}),statsIconText:"Last day"})),s.a.createElement($e.a,{lg:3,sm:6},s.a.createElement(qe,{bigIcon:s.a.createElement("i",{className:"fa fa-check",style:{color:"green"}}),statsText:"Fully Completed",statsValue:this.state.numberOfFullyCompleted,statsIcon:s.a.createElement("i",{className:"fa fa-clock-o"}),statsIconText:"In the last 12 hours"})),s.a.createElement($e.a,{lg:3,sm:6},s.a.createElement(qe,{bigIcon:s.a.createElement("i",{className:"fas fa-users text-info"}),statsText:"Participants",statsValue:this.state.numberOfParticipants,statsIcon:s.a.createElement("i",{className:"fa fa-refresh"}),statsIconText:"Updated now"}))),s.a.createElement(Xe.a,null,s.a.createElement($e.a,{md:4},s.a.createElement(Ye,{title:"Scanner's Ratio",category:"Scanners vs Users",stats:"Updated just now",statsIcon:"fa fa-history",content:s.a.createElement("div",{id:"chartPreferences",className:"ct-chart ct-perfect-fourth"},s.a.createElement(ze.a,{data:Ke,type:"Pie"})),legend:s.a.createElement("div",{className:"legend"},this.createLegend(Qe))})),s.a.createElement($e.a,{md:4},s.a.createElement(Ye,{title:"Fully Completed Ratio",category:"Participants vs Fully Completed",stats:"Updated just now",statsIcon:"fa fa-history",content:s.a.createElement("div",{id:"chartPreferences",className:"ct-chart ct-perfect-fourth"},s.a.createElement(ze.a,{data:Ze,type:"Pie"})),legend:s.a.createElement("div",{className:"legend"},this.createLegend(et))})),s.a.createElement($e.a,{md:4},s.a.createElement(Ye,{title:"Participants Ratio",category:"Participants vs Users",stats:"Updated just now",statsIcon:"fa fa-history",content:s.a.createElement("div",{id:"chartPreferences",className:"ct-chart ct-perfect-fourth"},s.a.createElement(ze.a,{data:tt,type:"Pie"})),legend:s.a.createElement("div",{className:"legend"},this.createLegend(at))}))),s.a.createElement(Xe.a,{style:{justifyContent:"center"}},s.a.createElement("button",{icon:{name:"arrow-right",size:15,color:"white"},style:{marginRight:200,height:100,justifyContent:"center",alignSelf:"center",fontWeight:"bold"},className:"btn btn-success",onClick:function(){e.getData(e.state.hashedIDEvent)}},"Refresh"),s.a.createElement($e.a,{md:8},s.a.createElement(Ye,{statsIcon:"fa fa-history",id:"chartHours",title:"Step Completion",category:"",stats:"Updated every 3 seconds",content:s.a.createElement("div",{className:"ct-chart"},s.a.createElement(ze.a,{style:{},options:{onlyInteger:!0,axisY:{labelInterpolationFnc:function(e){return e}}},data:{labels:this.state.stepTitles,series:[this.state.stepsCompletion]},type:"Bar"})),legend:s.a.createElement("div",{className:"legend"},this.createLegend(ot))}))),s.a.createElement(Xe.a,{style:{justifyContent:"center"}},s.a.createElement($e.a,{md:8},s.a.createElement(Ye,{statsIcon:"fa fa-history",id:"chartHours",title:"Step Completion Traffic",category:"7 Days Traffic",stats:"Updated just now",content:s.a.createElement("div",{className:"ct-chart"},s.a.createElement(ze.a,{data:nt,type:"Line",options:st,responsiveOptions:rt})),legend:s.a.createElement("div",{className:"legend"},this.createLegend(ot))})))))}}]),t}(n.Component),it=Object(h.f)(lt),ct={labels:[],series:[]},dt={names:["Completed","Participants"],types:["info","danger"]},pt={labels:[],series:[]},ut={names:["Event Scanners","Step Scanners"],types:["info","danger"]},ht={labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],series:[[]]},mt={low:0,high:1e3,showArea:!1,height:"245px",axisX:{showGrid:!1},lineSmooth:!0,showLine:!0,showPoint:!0,fullWidth:!0,chartPadding:{right:50}},ft=[["screen and (max-width: 640px)",{axisX:{labelInterpolationFnc:function(e){return e[0]}}}]],gt={names:["Connections "],types:["info"]},Et=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={numberOfParticipants:0,numberOfCompleted:0,numberOfStepScanners:0,numberOfEventScanners:0,stepCompletionWeeklyTraffic:[]},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"createLegend",value:function(e){for(var t=[],a=0;a<e.names.length;a++){var n="fa fa-circle text-"+e.types[a];t.push(s.a.createElement("i",{className:n,key:a})),t.push(" "),t.push(e.names[a])}return t}}]),Object(i.a)(t,[{key:"getData",value:function(){var e=this;console.log("Getting data..");var t=[];return function(e,t){var a=S.GET_STEP_STATISTICS_DATA.replace(":hashedID",v.a.HASHEDID);return a=(a=a.replace(":eventHashedID",e)).replace(":stepHashedID",t),console.log(a),E.a.get(a,{headers:{auth:v.a.AUTH},params:{}})}(this.props.history.location.state.hashedIDEvent,this.props.history.location.state.hashedIDStep).then(function(a){console.log(a),t=a.data.data,e.setState({numberOfParticipants:t.numberOfParticipants,numberOfCompleted:t.numberOfCompleted,numberOfStepScanners:t.numberOfStepScanners,numberOfEventScanners:t.numberOfEventScanners,stepCompletionWeeklyTraffic:t.stepCompletionWeeklyTraffic}),ct.series=[t.numberOfCompleted,t.numberOfParticipants-t.numberOfCompleted],ct.labels=[parseInt(100*t.numberOfCompleted/t.numberOfParticipants).toString()+"%",parseInt(100*(t.numberOfParticipants-t.numberOfCompleted)/t.numberOfParticipants).toString()+"%"],pt.series=[t.numberOfStepScanners,t.numberOfEventScanners-t.numberOfStepScanners],pt.labels=[parseInt(100*t.numberOfStepScanners/t.numberOfEventScanners).toString()+"%",parseInt(100*(t.numberOfEventScanners-t.numberOfStepScanners)/t.numberOfEventScanners).toString()+"%"],ht.series[0]=t.stepCompletionWeeklyTraffic,mt.high=Math.max(t.stepCompletionWeeklyTraffic+50),e.forceUpdate()})}},{key:"componentWillMount",value:function(){this.getData()}},{key:"render",value:function(){return s.a.createElement("div",{className:"content"},s.a.createElement(Je.a,{fluid:!0},s.a.createElement(Xe.a,null,s.a.createElement($e.a,{lg:3,sm:6},s.a.createElement(qe,{bigIcon:s.a.createElement("i",{className:"text-warning",class:"fa fa-qrcode"}),statsText:"Event Scanners",statsValue:this.state.numberOfEventScanners,statsIcon:s.a.createElement("i",{className:"fa fa-refresh"}),statsIconText:"Updated now"})),s.a.createElement($e.a,{lg:3,sm:6},s.a.createElement(qe,{bigIcon:s.a.createElement("i",{className:"fas fa-shoe-prints",style:{color:"blue"}}),statsText:"Step Scanners",statsValue:this.state.numberOfStepScanners,statsIcon:s.a.createElement("i",{className:"fa fa-calendar-o"}),statsIconText:"Last day"})),s.a.createElement($e.a,{lg:3,sm:6},s.a.createElement(qe,{bigIcon:s.a.createElement("i",{className:"fa fa-check",style:{color:"green"}}),statsText:"Completed",statsValue:this.state.numberOfCompleted,statsIcon:s.a.createElement("i",{className:"fa fa-clock-o"}),statsIconText:"In the last 12 hours"})),s.a.createElement($e.a,{lg:3,sm:6},s.a.createElement(qe,{bigIcon:s.a.createElement("i",{className:"fas fa-users text-info"}),statsText:"Participants",statsValue:this.state.numberOfParticipants,statsIcon:s.a.createElement("i",{className:"fa fa-refresh"}),statsIconText:"Updated now"}))),s.a.createElement(Xe.a,{style:{justifyContent:"center",alignItems:"center"}},s.a.createElement($e.a,{md:4},s.a.createElement(Ye,{title:"Completion Ratio",category:"Completed vs Participants",stats:"Updated just now",statsIcon:"fa fa-history",content:s.a.createElement("div",{id:"chartPreferences",className:"ct-chart ct-perfect-fourth"},s.a.createElement(ze.a,{data:ct,type:"Pie"})),legend:s.a.createElement("div",{className:"legend"},this.createLegend(dt))})),s.a.createElement($e.a,{md:4},s.a.createElement(Ye,{title:"Scanner's Ratop",category:"Event Scanners vs Step Scanners",stats:"Updated just now",statsIcon:"fa fa-history",content:s.a.createElement("div",{id:"chartPreferences",className:"ct-chart ct-perfect-fourth"},s.a.createElement(ze.a,{data:pt,type:"Pie"})),legend:s.a.createElement("div",{className:"legend"},this.createLegend(ut))}))),s.a.createElement(Xe.a,{style:{justifyContent:"center",alignItems:"center"}},s.a.createElement($e.a,{md:8},s.a.createElement(Ye,{statsIcon:"fa fa-history",id:"chartHours",title:"Step Completion Traffic",category:"7 Days Traffic",stats:"Updated just now",content:s.a.createElement("div",{className:"ct-chart"},s.a.createElement(ze.a,{data:ht,type:"Line",options:mt,responsiveOptions:ft})),legend:s.a.createElement("div",{className:"legend"},this.createLegend(gt))})))))}}]),t}(n.Component),bt=Object(h.f)(Et),vt=(a(733),["Other","Main Gate","Enrollment Services","Admissions","The Center for Learning Excellence","Cafeteria","New Rest","Big Toms","Conference Center (Old Game Room)","Shop","Auditorium Building 4","Auditorium Building 7","Lab 7","Lab 11","Lab 8","Lab 8b","SSE Dean's Office","SBA Dean's Office","SHSS Dean's Office","Roman Theater","The Globe","Health Center","Building 17","President's Office"]),yt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={language:"eng",object:a.props.object,attribute:a.props.attribute,columns:a.props.columns,columnsSteps:a.props.columnsSteps,show:!0,data:[],shownData:[],stepData:[],manuals:[]},a.getAndDisplayStepListData=a.getAndDisplayStepListData.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"getData",value:function(){var e=this;console.log("Getting data..");var t=[];return A(this.state.object).then(function(a){console.log("Result getTableData:"),console.log(a),t=a.data.data,0===e.state.data.length&&e.setState({data:t})}).then(function(){console.log("Returned Data: "),console.log(e.state.data);for(var t=JSON.parse(JSON.stringify(e.state.data)),a=e.isStep(t),n=0;n<t.length;n++)t[n].date=e.timeConverter(t[n].date),t[n].startDate=e.timeConverter(Date.parse(t[n].startDate)),t[n].endDate=e.timeConverter(Date.parse(t[n].endDate)),a&&(t[n].commonLocation>=0&&(t[n].commonLocation=vt[t[n].commonLocation]),t[n].isMapped||(t[n].latitude="-",t[n].longitude="-",t[n].commonLocation="-"));return e.setState({shownData:t}),e.getManuals()}).then(function(t){return e.fillData()})}},{key:"getStepsData",value:function(e){var t=this;console.log("Getting steps data..");var a=[];return function(e,t){var a=S[e].replace(":hashedID",v.a.HASHEDID);return a=a.replace(":eventHashedID",t),E.a.get(a,{headers:{auth:v.a.AUTH},params:{}})}("GET_EVENT_STEPS_LIST",e).then(function(e){console.log("Result getStepsListData:"),a=e.data.data,console.log("Data: "),console.log(a);for(var n=0;n<a.length;n++)a[n].createdAt=t.timeConverter(a[n].createdAt),a[n].isMapped=t.booleanConverterYesNo(a[n].isMapped);0===t.state.data.length&&t.setState({data:a})}).then(function(){console.log("Returned Data: "),console.log(t.state.data);for(var e=JSON.parse(JSON.stringify(t.state.data)),a=t.isStep(e),n=0;n<e.length;n++)e[n].date=t.timeConverter(e[n].date),a&&(e[n].commonLocation>=0&&(e[n].commonLocation=vt[e[n].commonLocation]),e[n].isMapped||(e[n].latitude="-",e[n].longitude="-",e[n].commonLocation="-"));return t.setState({shownData:e}),t.getManuals()}).then(function(e){return t.fillData()}).then(function(){console.log("Show Data:"),console.log(t.state.data)})}},{key:"getManuals",value:function(){var e=this,t=[],a=this.state.columns;for(var n in a){var s=a[n];"link"===s.type&&t.push(s)}var r=[],o=0;for(var l in t){return U(t[l]).then(function(e){r.push(e),o++}).then(function(){o===t.length&&e.setState({manuals:r})})}}},{key:"fillData",value:function(){var e=JSON.parse(JSON.stringify(this.state.data)),t=JSON.parse(JSON.stringify(e)),a=this.state.manuals;for(var n in a){var s=a[n];for(var r in s){var o=s[r];for(var l in e)if(e[l][o.name]===o.value){var i=o.name,c=o.label;t[l][i]=c,this.setState({shownData:t})}}}}},{key:"fillStepListData",value:function(){var e=JSON.parse(JSON.stringify(this.state.data)),t=JSON.parse(JSON.stringify(e)),a=this.state.manuals;for(var n in a){var s=a[n];for(var r in s){var o=s[r];for(var l in e)if(e[l][o.name]===o.value){var i=o.name,c=o.label;t[l][i]=c,this.setState({shownData:t})}}}}},{key:"deleteRow",value:function(e){var t={},a={};t.object=this.state.object,t.attribute=this.state.attribute,t.value=e,a.data=t,x(a).then(function(e){window.location.reload()}).catch(function(e){console.error(e)})}},{key:"valuesFromOriginal",value:function(e){var t=JSON.parse(JSON.stringify(this.state.data)),a=e,n=e._id;for(var s in t){var r=t[s];r._id===n&&(a=r)}return a}},{key:"booleanConverterYesNo",value:function(e){return e?"Yes":"No"}},{key:"timeConverter",value:function(e){var t=new Date(1e3*e),a=t.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return t.getDate()+" "+n+" "+a+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}},{key:"isStep",value:function(e){return!(!e[0]||!e[0].stepTitle)}},{key:"componentDidMount",value:function(){this.props.view&&this.setState({show:!1});console.log(this.props.object),"GET_STEPS_DATA"===this.props.object?this.getStepsData(this.props.location.state.eventID):"GET_EVENTS_DATA"===this.props.object?this.getData():"GET_USERS_DATA"===this.props.object?this.getData():"GET_ADMINS_DATA"===this.props.object&&this.getData()}},{key:"getAndDisplayStepListData",value:function(e){var t=this;console.log("Event hashedID: "+e),this.getStepsData(e).then(function(){var e=JSON.parse(JSON.stringify(t.state.stepData)),a=t.isStep(e);console.log("check here"),console.log(e[0].createdAt);for(var n=0;n<e.length;n++)e[n].createdAt=t.timeConverter(e[n].createdAt),a&&(e[n].commonLocation>=0&&(e[n].commonLocation=vt[e[n].commonLocation]),e[n].isMapped||(e[n].latitude="-",e[n].longitude="-",e[n].commonLocation="-"));return t.setState({stepData:e}),t.getManuals()}).then(function(e){return t.fillStepListData()})}},{key:"deleteStep",value:function(e,t){return N(e,t).then(function(e){return e})}},{key:"deleteUser",value:function(e){return C(e).then(function(e){return e})}},{key:"render",value:function(){var e=this,t=function(e){return null};this.props.more&&(t=function(t){var a=e.valuesFromOriginal(t);return s.a.createElement("button",{className:"btn btn-success",onClick:function(){e.props.history.push("offering/".concat(a._id,"/").concat(a.service,"/").concat(t.service,"/").concat(a.classroom))}},"More")});var a=this.props.columns;a=this.props.columns.concat([{Header:"Action",Cell:function(a){return s.a.createElement("div",null,t(a.original),s.a.createElement("button",{style:{flex:1},className:"btn btn-primary",onClick:function(){return"GET_EVENTS_DATA"===e.props.object?function(e){var t=S.GET_EVENT_FULL_DATA.replace(":hashedID",v.a.HASHEDID);return t=t.replace(":eventHashedID",e),console.log(t),E.a.get(t,{headers:{auth:v.a.AUTH}}).then(function(e){return e}).catch(function(e){console.error(e)})}(a.original.hashedIDEvent).then(function(t){console.log(t),console.log("HNA"),console.log(t);var a=JSON.parse(JSON.stringify(t));a.data.data.createdAtConverted=e.timeConverter(Date.parse(a.data.data.createdAt)),a.data.data.updatedAtConverted=e.timeConverter(Date.parse(a.data.data.updatedAt)),a.data.data.startDateConverted=e.timeConverter(Date.parse(a.data.data.startDate)),a.data.data.endDateConverted=e.timeConverter(Date.parse(a.data.data.endDate)),e.props.history.push("/admin/update-event",{data:a})}):"GET_STEPS_DATA"===e.props.object?(console.log("HASHEDIDEVENT:"),console.log(a),function(e,t){var a=S.GET_STEP_FULL_DATA.replace(":hashedID",v.a.HASHEDID);return a=(a=a.replace(":eventHashedID",e)).replace(":stepHashedID",t),console.log(a),E.a.get(a,{headers:{auth:v.a.AUTH}}).then(function(e){return e}).catch(function(e){console.error(e)})}(a.original.eventID,a.original.hashedIDStep).then(function(t){console.log(t),console.log("HNA"),console.log(t);var a=JSON.parse(JSON.stringify(t));a.data.data.createdAtConverted=e.timeConverter(Date.parse(a.data.data.createdAt)),a.data.data.updatedAtConverted=e.timeConverter(Date.parse(a.data.data.updatedAt)),e.props.history.push("/admin/update-step",{data:a})})):"GET_USERS_DATA"===e.props.object?(console.log("HASHEDIDUSER:"),console.log(a.original.hashedID),function(e){var t=S.GET_USER_FULL_DATA.replace(":hashedID",v.a.HASHEDID);return console.log(t),E.a.post(t,{IDs:e},{headers:{auth:v.a.AUTH}}).then(function(e){return e}).catch(function(e){console.error(e)})}(a.original.hashedID).then(function(t){console.log(t),console.log("HNA"),console.log(t);var a=JSON.parse(JSON.stringify(t));a.data.data.createdAtConverted=e.timeConverter(Date.parse(a.data.data.createdAt)),a.data.data.updatedAtConverted=e.timeConverter(Date.parse(a.data.data.updatedAt)),1===a.data.data.gender?a.data.data.genderConverted="Male":a.data.data.genderConverted="Female",e.props.history.push("/admin/update-user",{data:a})})):void 0}}," Update"),"GET_EVENTS_DATA"===e.props.object?s.a.createElement("button",{style:{flex:1},className:"btn btn-success",onClick:function(){e.props.history.push("/admin/steps",{eventID:a.original.hashedIDEvent})}}," View Steps"):console.log("View Step Button Not Displayed"),"GET_STEPS_DATA"===e.props.object||"GET_USERS_DATA"===e.props.object||"GET_ADMINS_DATA"===e.props.object?s.a.createElement("button",{style:{flex:1},className:"btn btn-danger",onClick:function(){var t;switch(e.props.object){case"GET_USERS_DATA":case"GET_ADMINS_DATA":if(console.log(a.original.auiID),(t=window.prompt("Are you sure want to delete this User? Please enter the ID of the user:"))===a.original.auiID)return e.deleteUser(a.original.hashedID).then(function(e){e&&alert("User deleted successfully")});alert("The IDs don't match. Aborting..."),console.log(t);break;case"GET_STEPS_DATA":if(console.log(a.original.stepTitle),(t=window.prompt("Are you sure want to delete this Step? Please enter the title of the step:"))===a.original.stepTitle)return e.deleteStep(e.props.history.location.state.eventID,a.original.hashedIDStep).then(function(e){e&&alert("Step deleted successfully")});alert("The titles don't match. Aborting..."),console.log(t);break;default:console.log("Unrecognized type")}}}," Delete"):console.log("Delete Step Button Not Displayed"))},show:this.state.show,filterable:!1,width:280}]);var n=this.state.object,r=this.state.language;return s.a.createElement("div",null,s.a.createElement("h2",{className:"title"},H.a.objects[n][r]," Table"),s.a.createElement("button",{className:"btn btn-outline-success",onClick:function(){e.props.history.push("add-event")}}," New ",H.a.objects[n][r]),s.a.createElement(L.a,{data:this.state.shownData,columns:a,filterable:!0}))}}]),t}(s.a.Component),Dt=Object(h.f)(yt),St=a(370),_t=a(769),Ot=a(770),It=a(161),Tt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={is_checked:!!e.isChecked},a.handleClick=a.handleClick.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleClick",value:function(){this.setState({is_checked:!this.state.is_checked})}},{key:"render",value:function(){var e=this.props,t=(e.isChecked,e.number),a=e.label,n=e.inline,r=Object(It.a)(e,["isChecked","number","label","inline"]),o=void 0!==n?"checkbox checkbox-inline":"checkbox";return s.a.createElement("div",{className:o},s.a.createElement("input",Object.assign({id:t,type:"checkbox",onChange:this.handleClick,checked:this.state.is_checked},r)),s.a.createElement("label",{htmlFor:t},a))}}]),t}(n.Component),Ct=a(771),Nt=a(11),At=a.n(Nt),xt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fill,a=e.simple,n=e.pullRight,r=e.round,o=e.block,l=Object(It.a)(e,["fill","simple","pullRight","round","block"]),i=At()({"btn-fill":t,"btn-simple":a,"pull-right":n,"btn-block":o,"btn-round":r});return s.a.createElement(Ct.a,Object.assign({className:i},l))}}]),t}(n.Component),kt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).handleCheckbox=function(e){var t=e.target;console.log(e.target),a.setState(Object(St.a)({},t.name,t.checked))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){for(var e,t=s.a.createElement(_t.a,{id:"edit_tooltip"},"Edit Task"),a=s.a.createElement(_t.a,{id:"remove_tooltip"},"Remove"),n=['Sign contract for "What are conference organizers afraid of?"',"Lines From Great Russian Literature? Or E-mails From My Boss?","Flooded: One year later, assessing what was lost and what was found when a ravaging rain swept through metro Detroi","Create 4 Invisible User Experiences you Never Knew About",'Read "Following makes Medium better"',"Unfollow 5 enemies from twitter"],r=[],o=0;o<n.length;o++)e="checkbox"+o,r.push(s.a.createElement("tr",{key:o},s.a.createElement("td",null,s.a.createElement(Tt,{number:e,isChecked:1===o||2===o})),s.a.createElement("td",null,n[o]),s.a.createElement("td",{className:"td-actions text-right"},s.a.createElement(Ot.a,{placement:"top",overlay:t},s.a.createElement(xt,{bsStyle:"info",simple:!0,type:"button",bsSize:"xs"},s.a.createElement("i",{className:"fa fa-edit"}))),s.a.createElement(Ot.a,{placement:"top",overlay:a},s.a.createElement(xt,{bsStyle:"danger",simple:!0,type:"button",bsSize:"xs"},s.a.createElement("i",{className:"fa fa-times"}))))));return s.a.createElement("tbody",null,r)}}]),t}(n.Component),wt=(a(751),{labels:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],series:[]}),jt={seriesBarDistance:10,axisX:{showGrid:!1},height:"245px"},Ht=[["screen and (max-width: 640px)",{seriesBarDistance:5,axisX:{labelInterpolationFnc:function(e){return e[0]}}}]],Pt={names:["Events Created","Steps Created"],types:["info","danger"]},Lt={labels:[],series:[]},Ut={names:["Activated","Not-Activated"],types:["info","danger"]},Rt={labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],series:[[]]},Ft={low:0,high:1e3,showArea:!1,height:"245px",axisX:{showGrid:!1},lineSmooth:!0,showLine:!0,showPoint:!0,fullWidth:!0,chartPadding:{right:50}},Mt=[["screen and (max-width: 640px)",{axisX:{labelInterpolationFnc:function(e){return e[0]}}}]],Wt={names:["Connections "],types:["info"]},Bt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={numberOfUsers:0,numberOfErrors:0,numberOfEvents:0,numberOfSteps:0},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"createLegend",value:function(e){for(var t=[],a=0;a<e.names.length;a++){var n="fa fa-circle text-"+e.types[a];t.push(s.a.createElement("i",{className:n,key:a})),t.push(" "),t.push(e.names[a])}return t}}]),Object(i.a)(t,[{key:"getData",value:function(){var e=this;console.log("Getting data..");var t=[];return function(){var e=S.GET_STATISTICS_DATA.replace(":hashedID",v.a.HASHEDID);return E.a.get(e,{headers:{auth:v.a.AUTH},params:{}})}(this.state.object).then(function(a){console.log(a),t=a.data.data,e.setState({numberOfUsers:t.numberOfUsers,numberOfErrors:t.numberOfErrors,numberOfEvents:t.numberOfEvents,numberOfSteps:t.numberOfSteps}),Lt.series=[t.numberOfActivatedAccounts,t.numberOfUsers-t.numberOfActivatedAccounts],Lt.labels=[parseInt(100*t.numberOfActivatedAccounts/t.numberOfUsers).toString()+"%",parseInt(100*(t.numberOfUsers-t.numberOfActivatedAccounts)/t.numberOfUsers).toString()+"%"],Rt.series[0]=t.weeklyTraffic,Ft.high=Math.max(t.weeklyTraffic+50),wt.series[0]=t.eventStepTraffic.events,wt.series[1]=t.eventStepTraffic.steps,e.forceUpdate()})}},{key:"componentWillMount",value:function(){this.getData()}},{key:"render",value:function(){return s.a.createElement("div",{className:"content"},s.a.createElement(Je.a,{fluid:!0},s.a.createElement(Xe.a,null,s.a.createElement($e.a,{lg:3,sm:6},s.a.createElement(qe,{bigIcon:s.a.createElement("i",{className:" text-warning",class:"fas fa-shoe-prints"}),statsText:"Steps",statsValue:this.state.numberOfSteps,statsIcon:s.a.createElement("i",{className:"fa fa-refresh"}),statsIconText:"Updated now"})),s.a.createElement($e.a,{lg:3,sm:6},s.a.createElement(qe,{bigIcon:s.a.createElement("i",{className:"fas fa-calendar-alt text-success"}),statsText:"Events",statsValue:this.state.numberOfEvents,statsIcon:s.a.createElement("i",{className:"fa fa-calendar-o"}),statsIconText:"Last day"})),s.a.createElement($e.a,{lg:3,sm:6},s.a.createElement(qe,{bigIcon:s.a.createElement("i",{className:"pe-7s-graph1 text-danger"}),statsText:"Errors",statsValue:this.state.numberOfErrors,statsIcon:s.a.createElement("i",{className:"fa fa-clock-o"}),statsIconText:"In the last 12 hours"})),s.a.createElement($e.a,{lg:3,sm:6},s.a.createElement(qe,{bigIcon:s.a.createElement("i",{className:"fas fa-users text-info"}),statsText:"Users",statsValue:this.state.numberOfUsers,statsIcon:s.a.createElement("i",{className:"fa fa-refresh"}),statsIconText:"Updated now"}))),s.a.createElement(Xe.a,null,s.a.createElement($e.a,{md:8},s.a.createElement(Ye,{statsIcon:"fa fa-history",id:"chartHours",title:"Users Traffic",category:"7 Days Traffic",stats:"Updated just now",content:s.a.createElement("div",{className:"ct-chart"},s.a.createElement(ze.a,{data:Rt,type:"Line",options:Ft,responsiveOptions:Mt})),legend:s.a.createElement("div",{className:"legend"},this.createLegend(Wt))})),s.a.createElement($e.a,{md:4},s.a.createElement(Ye,{title:"Accounts Statistics",category:"Activated Accounts vs Non-Activated Accounts",stats:"Updated just now",statsIcon:"fa fa-history",content:s.a.createElement("div",{id:"chartPreferences",className:"ct-chart ct-perfect-fourth"},s.a.createElement(ze.a,{data:Lt,type:"Pie"})),legend:s.a.createElement("div",{className:"legend"},this.createLegend(Ut))}))),s.a.createElement(Xe.a,null,s.a.createElement($e.a,{md:6},s.a.createElement(Ye,{id:"chartActivity",title:"Events/Steps Traffic",stats:"Updated just now",statsIcon:"fa fa-check",content:s.a.createElement("div",{className:"ct-chart"},s.a.createElement(ze.a,{data:wt,type:"Bar",options:jt,responsiveOptions:Ht})),legend:s.a.createElement("div",{className:"legend"},this.createLegend(Pt))})),s.a.createElement($e.a,{md:6},s.a.createElement(Ye,{title:"Tasks",category:"Backend development",stats:"Updated just now",statsIcon:"fa fa-history",content:s.a.createElement("div",{className:"table-full-width"},s.a.createElement("table",{className:"table"},s.a.createElement(kt,null)))})))))}}]),t}(n.Component),Gt=(a(752),a(753),a(754),a(755),a(756),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:[],auth:f("auth")},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props.match;return s.a.createElement("div",null,s.a.createElement(w,null),s.a.createElement("div",{className:"content"},s.a.createElement(u.a,null,s.a.createElement("div",{className:"sidenav",style:{marginTop:"-30px"}},s.a.createElement("h2",null,"Dashboard"),s.a.createElement("aside",null,s.a.createElement(u.b,{to:"".concat(e.url,"/statistics")}," Statistics "),s.a.createElement(u.b,{to:"".concat(e.url,"/user")}," Users "),s.a.createElement(u.b,{to:"".concat(e.url,"/admins")}," Admins "),s.a.createElement(u.b,{to:"".concat(e.url,"/events")}," Events "))),s.a.createElement("main",{style:{marginTop:"50px"}},s.a.createElement(h.a,{path:"".concat(e.path,"/statistics"),component:Bt}),s.a.createElement(h.a,{path:"".concat(e.path,"/user"),component:function(){return s.a.createElement(Dt,{object:"GET_USERS_DATA",attribute:"hashedID",columns:P.user})}}),s.a.createElement(h.a,{path:"".concat(e.path,"/admins"),component:function(){return s.a.createElement(Dt,{object:"GET_ADMINS_DATA",attribute:"hashedID",columns:P.user})}}),s.a.createElement(h.a,{path:"".concat(e.path,"/events"),component:function(){return s.a.createElement(Dt,{object:"GET_EVENTS_DATA",attribute:"hashedIDEvent",columns:P.event,columnsSteps:P.step})}}),s.a.createElement(h.a,{path:"".concat(e.path,"/steps"),component:function(){return s.a.createElement(Dt,{object:"GET_STEPS_DATA",attribute:"hashedIDStep",columns:P.step})}}),s.a.createElement(h.a,{path:"".concat(e.path,"/add-event"),component:function(){return s.a.createElement(ne,null)}}),s.a.createElement(h.a,{path:"".concat(e.path,"/update-event"),component:function(){return s.a.createElement(ie,null)}}),s.a.createElement(h.a,{path:"".concat(e.path,"/update-step"),component:function(){return s.a.createElement(he,null)}}),s.a.createElement(h.a,{path:"".concat(e.path,"/update-user"),component:function(){return s.a.createElement(Ge,null)}}),s.a.createElement(h.a,{path:"".concat(e.path,"/view-participants"),component:function(){return s.a.createElement(Ce,null)}}),s.a.createElement(h.a,{path:"".concat(e.path,"/view-completions"),component:function(){return s.a.createElement(Pe,null)}}),s.a.createElement(h.a,{path:"".concat(e.path,"/view-scanners"),component:function(){return s.a.createElement(Fe,null)}}),s.a.createElement(h.a,{path:"".concat(e.path,"/view-fully-completed"),component:function(){return s.a.createElement(ke,null)}}),s.a.createElement(h.a,{path:"".concat(e.path,"/event-statistics"),component:function(){return s.a.createElement(it,null)}}),s.a.createElement(h.a,{path:"".concat(e.path,"/step-statistics"),component:function(){return s.a.createElement(bt,null)}}),s.a.createElement(h.a,{path:"".concat(e.path,"/add-step"),component:function(){return s.a.createElement(be,null)}})))))}}]),t}(s.a.Component)),Vt=(a(757),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={error:"",username:"",password:"",email:""},a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=this.state;t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),E.a.post("http://fye-em.aui.ma/signin",{identity:this.state.username,password:this.state.password}).then(function(e){console.log(e);var a=e.data;"success"!==a.status?t.setState({error:a.message}):(console.log("HERE"),v.a.AUTH=a.data.appToken.value,v.a.HASHEDID=a.data.hashedID,t.props.history.push("/admin/statistics"))}).catch(function(e){console.error(e)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"login_wrapper"},s.a.createElement("img",{src:a(758),style:{backgroundPosition:"center",backgroundSize:"cover",flex:1,backgroundRepeat:"no-repeat",marginLeft:"-200%",marginTop:"-50%"}}),s.a.createElement("div",{className:" form login_form"},s.a.createElement("section",{id:"signin-content",className:"login_content"},s.a.createElement("img",{src:a(759),style:{width:"50%",marginTop:"50% ",marginBottom:"15px"}}),s.a.createElement("form",null,s.a.createElement("h1",{className:"green",style:{color:"#18632C !important"}},"Admin Sign In"),s.a.createElement("input",{className:"form-control",type:"text",id:"emailIDSignIn",placeholder:"Email or ID",name:"username",value:this.state.username,onChange:this.handleChange}),s.a.createElement("input",{className:"form-control",type:"password",name:"password",id:"passwordSignIn",placeholder:"Password",value:this.state.password,onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement("input",{className:"btn green-1",type:"submit",value:"Sign in",style:{color:"#fff",justifyContent:"center",alignItems:"center",marginLeft:"0px",width:"100%"},onClick:this.handleSubmit}),s.a.createElement("div",{className:"clearfix"}),s.a.createElement("div",null,s.a.createElement("p",{style:{fontSize:"11px"}}," Copyright \xa9  XXXXX ",s.a.createElement("br",null),s.a.createElement("a",{href:"https://www.google.com",style:{marginLeft:"10px"}},"Privacy Policy")))))))}}]),t}(s.a.Component)),zt=Object(h.f)(Vt),Jt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={error:"",username:"",password1:"",password2:"",email:"",access:""},a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=this.state;t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),E.a.post("http://localhost:5000/users/signup",{username:this.state.username,password1:this.state.password1,password2:this.state.password2,email:this.state.email,access:this.state.access}).then(function(e){var a=e.data;a.success?t.setState({error:""}):t.setState({error:a.message})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h2",null,"Sign up "),s.a.createElement("p",{className:"error"},this.state.error),s.a.createElement("form",null,s.a.createElement("label",{className:"form-group"},"Username:",s.a.createElement("input",{className:"form-control",type:"text",name:"username",value:this.state.username,onChange:this.handleChange})),s.a.createElement("label",{className:"form-group"},"Email:",s.a.createElement("input",{className:"form-control",type:"text",name:"email",value:this.state.email,onChange:this.handleChange})),s.a.createElement("label",{className:"form-group"},"Password:",s.a.createElement("input",{className:"form-control",type:"password",name:"password1",value:this.state.password1,onChange:this.handleChange})),s.a.createElement("label",{className:"form-group"},"Confirm password:",s.a.createElement("input",{className:"form-control",type:"password",name:"password2",value:this.state.password2,onChange:this.handleChange})),s.a.createElement("label",{className:"form-group"},"Access:",s.a.createElement("input",{className:"form-control",type:"text",name:"access",value:this.state.access,onChange:this.handleChange})),s.a.createElement("input",{className:"btn btn-primary",type:"submit",value:"Sign up",onClick:this.handleSubmit})))}}]),t}(s.a.Component),Xt=Object(h.f)(Jt),$t=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={signin:!0,token:""},a.goAdmin=a.goAdmin.bind(Object(m.a)(Object(m.a)(a))),a.goEmployee=a.goEmployee.bind(Object(m.a)(Object(m.a)(a))),a.goLegalGuardian=a.goLegalGuardian.bind(Object(m.a)(Object(m.a)(a))),a.switch=a.switch.bind(Object(m.a)(Object(m.a)(a))),a.toggle=a.toggle.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"goAdmin",value:function(){this.props.history.push("/admin")}},{key:"goEmployee",value:function(){this.props.history.push("/employee")}},{key:"goLegalGuardian",value:function(){this.props.history.push("/legalGuardian")}},{key:"toggle",value:function(e){e.preventDefault(),console.log("Toggle called"),this.setState({signin:!this.state.signin})}},{key:"switch",value:function(){return this.state.signin?s.a.createElement("div",{className:"separator"},s.a.createElement("p",{className:"change_link"},s.a.createElement("br",null),s.a.createElement(zt,null),s.a.createElement("button",{className:"btn btn-link",style:{color:"rgb(255,255,255)"},onClick:this.toggle},"Sign n")),s.a.createElement("div",{className:"clearfix"}),s.a.createElement("br",null)):s.a.createElement("div",{className:"sign"},s.a.createElement("br",null),s.a.createElement(Xt,null),"Already have an account?",s.a.createElement("button",{className:"btn btn-link",onClick:this.toggle},"Sign in"))}},{key:"render",value:function(){return s.a.createElement("div",{className:"home"},this.switch(),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null))}}]),t}(s.a.Component),Yt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:[]},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"Welcome, dear employee")}}]),t}(s.a.Component),qt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={data:[]},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"Welcome, dear parent")}}]),t}(s.a.Component),Kt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(u.a,null,s.a.createElement(h.c,null,s.a.createElement(h.a,{exact:!0,path:"/",component:$t}),s.a.createElement(h.a,{path:"/admin",component:Gt}),s.a.createElement(h.a,{path:"/employee",component:Yt}),s.a.createElement(h.a,{path:"/legalGuardian",component:qt}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(760);o.a.render(s.a.createElement(Kt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},89:function(e,t){e.exports={objects:{GET_USERS_DATA:{var:"GET_USERS_DATA",eng:"User",ar:""},GET_ADMINS_DATA:{var:"GET_ADMINS_DATA",eng:"Admins",ar:""},GET_EVENTS_DATA:{var:"GET_EVENTS_DATA",eng:"Events",ar:""},GET_STEPS_DATA:{var:"GET_STEPS_DATA",eng:"Step",ar:""},employee:{var:"employee",eng:"Employee",ar:""}},menus:{gender:{eng:[{value:"Male",label:"Male",name:"gender"},{value:"Female",label:"Female",name:"gender"},{value:"Other",label:"Other",name:"gender"}]}},prompts:{select:{eng:"Please select",ar:""}}}}},[[374,1,2]]]);
//# sourceMappingURL=main.328a564d.chunk.js.map